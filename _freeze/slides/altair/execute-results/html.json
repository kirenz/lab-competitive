{
  "hash": "5b539eab0feaf9af692de589e800409c",
  "result": {
    "markdown": "---\ntitle: Altair\nlang: en\nsubtitle: Basics, Task Overview and Hints\nauthor: Jan Kirenz\nexecute:\n  eval: true\n  echo: true\nhighlight-style: github\nformat:\n  revealjs: \n    toc: true\n    toc-depth: 1\n    embed-resources: false\n    theme: [dark, ../custom.scss]  \n    incremental: true\n    transition: slide\n    background-transition: fade\n    transition-speed: slow\n    code-copy: true\n    code-line-numbers: true\n    smaller: false\n    scrollable: true\n    slide-number: c\n    preview-links: auto\n    chalkboard: \n      buttons: false\n   #logo: images/logo.png\n    footer: Jan Kirenz\n---\n\n# Introduction to Altair-Vega\n\n- Altair is a *declarative* statistical visualization library in Python.\n\n- It's built on [Vega](https://vega.github.io/vega/) and [Vega-Lite](https://vega.github.io/vega-lite-api/), which are visualization grammars built on top of [D3](https://d3js.org/). \n\n\n## Key features of Altair\n\n- Simple API: Just a few lines of code can create beautiful visualizations.\n\n- Integration with Pandas: Altair's API is designed to work with Pandas dataframes.\n\n- Declarative Visualization: You describe the properties of a visualization and let Altair figure out how to implement it.\n\n# Altair and Pandas setup\n\n## Python Setup\n\n::: {#a5e40791 .cell execution_count=1}\n``` {.python .cell-code}\nimport altair as alt\nimport pandas as pd\n```\n:::\n\n\n## Create a DataFrame\n\n::: {#1da0f7bf .cell execution_count=2}\n``` {.python .cell-code}\ndata = {'name': ['Zeynep', 'Anna', 'Tim', 'Sara', 'Elias', 'Admir', 'Lina'],  # <2>\n        'age': [33, 25, 23, 21, 28, 20, 31],\n        'date': ['1990-06-03', '1998-03-12', '2000-01-20', '2002-02-16', '1995-05-02', '2003-06-03', '1992-06-03'],\n        'city': ['Stuttgart', 'Berlin', 'Stuttgart', 'Stuttgart', 'Berlin', 'Munich', 'Stuttgart']}\n\ndf = pd.DataFrame(data)\n```\n:::\n\n\n## Change Data Format\n\n::: {#cf34c96c .cell execution_count=3}\n``` {.python .cell-code}\nCAT_LIST = ['name', 'city']\n\nfor i in CAT_LIST:\n    df[i] = df[i].astype('category')\n\ndf['date'] = pd.to_datetime(df['date'])\n```\n:::\n\n\n# Altair bar chart example\n\n\n## Bar Chart\n\n\n- We use `.mark_bar()` to create a bar plot\n\n. . .\n\n::: {#e7b9285c .cell output-location='column-fragment' execution_count=4}\n``` {.python .cell-code}\nalt.Chart(df).mark_bar().encode(  # <1>\n    x=alt.X('name'),              # <2>\n    y=alt.Y('age')                # <3>\n)\n```\n\n::: {.cell-output .cell-output-display execution_count=4}\n```{=html}\n\n<style>\n  #altair-viz-09af45c7f1db488389b97ec4c4644f49.vega-embed {\n    width: 100%;\n    display: flex;\n  }\n\n  #altair-viz-09af45c7f1db488389b97ec4c4644f49.vega-embed details,\n  #altair-viz-09af45c7f1db488389b97ec4c4644f49.vega-embed details summary {\n    position: relative;\n  }\n</style>\n<div id=\"altair-viz-09af45c7f1db488389b97ec4c4644f49\"></div>\n<script type=\"text/javascript\">\n  var VEGA_DEBUG = (typeof VEGA_DEBUG == \"undefined\") ? {} : VEGA_DEBUG;\n  (function(spec, embedOpt){\n    let outputDiv = document.currentScript.previousElementSibling;\n    if (outputDiv.id !== \"altair-viz-09af45c7f1db488389b97ec4c4644f49\") {\n      outputDiv = document.getElementById(\"altair-viz-09af45c7f1db488389b97ec4c4644f49\");\n    }\n    const paths = {\n      \"vega\": \"https://cdn.jsdelivr.net/npm/vega@5?noext\",\n      \"vega-lib\": \"https://cdn.jsdelivr.net/npm/vega-lib?noext\",\n      \"vega-lite\": \"https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext\",\n      \"vega-embed\": \"https://cdn.jsdelivr.net/npm/vega-embed@6?noext\",\n    };\n\n    function maybeLoadScript(lib, version) {\n      var key = `${lib.replace(\"-\", \"\")}_version`;\n      return (VEGA_DEBUG[key] == version) ?\n        Promise.resolve(paths[lib]) :\n        new Promise(function(resolve, reject) {\n          var s = document.createElement('script');\n          document.getElementsByTagName(\"head\")[0].appendChild(s);\n          s.async = true;\n          s.onload = () => {\n            VEGA_DEBUG[key] = version;\n            return resolve(paths[lib]);\n          };\n          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);\n          s.src = paths[lib];\n        });\n    }\n\n    function showError(err) {\n      outputDiv.innerHTML = `<div class=\"error\" style=\"color:red;\">${err}</div>`;\n      throw err;\n    }\n\n    function displayChart(vegaEmbed) {\n      vegaEmbed(outputDiv, spec, embedOpt)\n        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));\n    }\n\n    if(typeof define === \"function\" && define.amd) {\n      requirejs.config({paths});\n      require([\"vega-embed\"], displayChart, err => showError(`Error loading script: ${err.message}`));\n    } else {\n      maybeLoadScript(\"vega\", \"5\")\n        .then(() => maybeLoadScript(\"vega-lite\", \"5.8.0\"))\n        .then(() => maybeLoadScript(\"vega-embed\", \"6\"))\n        .catch(showError)\n        .then(() => displayChart(vegaEmbed));\n    }\n  })({\"config\": {\"view\": {\"continuousWidth\": 300, \"continuousHeight\": 300}}, \"data\": {\"name\": \"data-35a07b333ab42c20ffaa19d64e97f161\"}, \"mark\": {\"type\": \"bar\"}, \"encoding\": {\"x\": {\"field\": \"name\", \"type\": \"nominal\"}, \"y\": {\"field\": \"age\", \"type\": \"quantitative\"}}, \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.8.0.json\", \"datasets\": {\"data-35a07b333ab42c20ffaa19d64e97f161\": [{\"name\": \"Zeynep\", \"age\": 33, \"date\": \"1990-06-03T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Anna\", \"age\": 25, \"date\": \"1998-03-12T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Tim\", \"age\": 23, \"date\": \"2000-01-20T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Sara\", \"age\": 21, \"date\": \"2002-02-16T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Elias\", \"age\": 28, \"date\": \"1995-05-02T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Admir\", \"age\": 20, \"date\": \"2003-06-03T00:00:00\", \"city\": \"Munich\"}, {\"name\": \"Lina\", \"age\": 31, \"date\": \"1992-06-03T00:00:00\", \"city\": \"Stuttgart\"}]}}, {\"mode\": \"vega-lite\"});\n</script>\n```\n:::\n:::\n\n\n1. Define a chart object (ACME acronym)\n2. Define x-axis\n3. Define y-axis\n\n\n## Bar Chart with sorted values\n\n::: {#e486f679 .cell output-location='column-fragment' execution_count=5}\n``` {.python .cell-code}\nalt.Chart(df).mark_bar().encode(\n    x=alt.X('name').sort('y'),   # <1>\n    y=alt.Y('age')\n)\n```\n\n::: {.cell-output .cell-output-display execution_count=5}\n```{=html}\n\n<style>\n  #altair-viz-87af8a2bf9ac4c82b9129d488e99cc1c.vega-embed {\n    width: 100%;\n    display: flex;\n  }\n\n  #altair-viz-87af8a2bf9ac4c82b9129d488e99cc1c.vega-embed details,\n  #altair-viz-87af8a2bf9ac4c82b9129d488e99cc1c.vega-embed details summary {\n    position: relative;\n  }\n</style>\n<div id=\"altair-viz-87af8a2bf9ac4c82b9129d488e99cc1c\"></div>\n<script type=\"text/javascript\">\n  var VEGA_DEBUG = (typeof VEGA_DEBUG == \"undefined\") ? {} : VEGA_DEBUG;\n  (function(spec, embedOpt){\n    let outputDiv = document.currentScript.previousElementSibling;\n    if (outputDiv.id !== \"altair-viz-87af8a2bf9ac4c82b9129d488e99cc1c\") {\n      outputDiv = document.getElementById(\"altair-viz-87af8a2bf9ac4c82b9129d488e99cc1c\");\n    }\n    const paths = {\n      \"vega\": \"https://cdn.jsdelivr.net/npm/vega@5?noext\",\n      \"vega-lib\": \"https://cdn.jsdelivr.net/npm/vega-lib?noext\",\n      \"vega-lite\": \"https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext\",\n      \"vega-embed\": \"https://cdn.jsdelivr.net/npm/vega-embed@6?noext\",\n    };\n\n    function maybeLoadScript(lib, version) {\n      var key = `${lib.replace(\"-\", \"\")}_version`;\n      return (VEGA_DEBUG[key] == version) ?\n        Promise.resolve(paths[lib]) :\n        new Promise(function(resolve, reject) {\n          var s = document.createElement('script');\n          document.getElementsByTagName(\"head\")[0].appendChild(s);\n          s.async = true;\n          s.onload = () => {\n            VEGA_DEBUG[key] = version;\n            return resolve(paths[lib]);\n          };\n          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);\n          s.src = paths[lib];\n        });\n    }\n\n    function showError(err) {\n      outputDiv.innerHTML = `<div class=\"error\" style=\"color:red;\">${err}</div>`;\n      throw err;\n    }\n\n    function displayChart(vegaEmbed) {\n      vegaEmbed(outputDiv, spec, embedOpt)\n        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));\n    }\n\n    if(typeof define === \"function\" && define.amd) {\n      requirejs.config({paths});\n      require([\"vega-embed\"], displayChart, err => showError(`Error loading script: ${err.message}`));\n    } else {\n      maybeLoadScript(\"vega\", \"5\")\n        .then(() => maybeLoadScript(\"vega-lite\", \"5.8.0\"))\n        .then(() => maybeLoadScript(\"vega-embed\", \"6\"))\n        .catch(showError)\n        .then(() => displayChart(vegaEmbed));\n    }\n  })({\"config\": {\"view\": {\"continuousWidth\": 300, \"continuousHeight\": 300}}, \"data\": {\"name\": \"data-35a07b333ab42c20ffaa19d64e97f161\"}, \"mark\": {\"type\": \"bar\"}, \"encoding\": {\"x\": {\"field\": \"name\", \"sort\": \"y\", \"type\": \"nominal\"}, \"y\": {\"field\": \"age\", \"type\": \"quantitative\"}}, \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.8.0.json\", \"datasets\": {\"data-35a07b333ab42c20ffaa19d64e97f161\": [{\"name\": \"Zeynep\", \"age\": 33, \"date\": \"1990-06-03T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Anna\", \"age\": 25, \"date\": \"1998-03-12T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Tim\", \"age\": 23, \"date\": \"2000-01-20T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Sara\", \"age\": 21, \"date\": \"2002-02-16T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Elias\", \"age\": 28, \"date\": \"1995-05-02T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Admir\", \"age\": 20, \"date\": \"2003-06-03T00:00:00\", \"city\": \"Munich\"}, {\"name\": \"Lina\", \"age\": 31, \"date\": \"1992-06-03T00:00:00\", \"city\": \"Stuttgart\"}]}}, {\"mode\": \"vega-lite\"});\n</script>\n```\n:::\n:::\n\n\n1. Sort the values in an ascending order \n\n## Bar Chart with sorted values\n\n::: {#fb9dab32 .cell output-location='column-fragment' execution_count=6}\n``` {.python .cell-code}\nalt.Chart(df).mark_bar().encode(\n    x=alt.X('name').sort('-y'),   # <1>\n    y=alt.Y('age')\n)\n```\n\n::: {.cell-output .cell-output-display execution_count=6}\n```{=html}\n\n<style>\n  #altair-viz-b666307c80524ad7897c869fc26407ba.vega-embed {\n    width: 100%;\n    display: flex;\n  }\n\n  #altair-viz-b666307c80524ad7897c869fc26407ba.vega-embed details,\n  #altair-viz-b666307c80524ad7897c869fc26407ba.vega-embed details summary {\n    position: relative;\n  }\n</style>\n<div id=\"altair-viz-b666307c80524ad7897c869fc26407ba\"></div>\n<script type=\"text/javascript\">\n  var VEGA_DEBUG = (typeof VEGA_DEBUG == \"undefined\") ? {} : VEGA_DEBUG;\n  (function(spec, embedOpt){\n    let outputDiv = document.currentScript.previousElementSibling;\n    if (outputDiv.id !== \"altair-viz-b666307c80524ad7897c869fc26407ba\") {\n      outputDiv = document.getElementById(\"altair-viz-b666307c80524ad7897c869fc26407ba\");\n    }\n    const paths = {\n      \"vega\": \"https://cdn.jsdelivr.net/npm/vega@5?noext\",\n      \"vega-lib\": \"https://cdn.jsdelivr.net/npm/vega-lib?noext\",\n      \"vega-lite\": \"https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext\",\n      \"vega-embed\": \"https://cdn.jsdelivr.net/npm/vega-embed@6?noext\",\n    };\n\n    function maybeLoadScript(lib, version) {\n      var key = `${lib.replace(\"-\", \"\")}_version`;\n      return (VEGA_DEBUG[key] == version) ?\n        Promise.resolve(paths[lib]) :\n        new Promise(function(resolve, reject) {\n          var s = document.createElement('script');\n          document.getElementsByTagName(\"head\")[0].appendChild(s);\n          s.async = true;\n          s.onload = () => {\n            VEGA_DEBUG[key] = version;\n            return resolve(paths[lib]);\n          };\n          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);\n          s.src = paths[lib];\n        });\n    }\n\n    function showError(err) {\n      outputDiv.innerHTML = `<div class=\"error\" style=\"color:red;\">${err}</div>`;\n      throw err;\n    }\n\n    function displayChart(vegaEmbed) {\n      vegaEmbed(outputDiv, spec, embedOpt)\n        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));\n    }\n\n    if(typeof define === \"function\" && define.amd) {\n      requirejs.config({paths});\n      require([\"vega-embed\"], displayChart, err => showError(`Error loading script: ${err.message}`));\n    } else {\n      maybeLoadScript(\"vega\", \"5\")\n        .then(() => maybeLoadScript(\"vega-lite\", \"5.8.0\"))\n        .then(() => maybeLoadScript(\"vega-embed\", \"6\"))\n        .catch(showError)\n        .then(() => displayChart(vegaEmbed));\n    }\n  })({\"config\": {\"view\": {\"continuousWidth\": 300, \"continuousHeight\": 300}}, \"data\": {\"name\": \"data-35a07b333ab42c20ffaa19d64e97f161\"}, \"mark\": {\"type\": \"bar\"}, \"encoding\": {\"x\": {\"field\": \"name\", \"sort\": \"-y\", \"type\": \"nominal\"}, \"y\": {\"field\": \"age\", \"type\": \"quantitative\"}}, \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.8.0.json\", \"datasets\": {\"data-35a07b333ab42c20ffaa19d64e97f161\": [{\"name\": \"Zeynep\", \"age\": 33, \"date\": \"1990-06-03T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Anna\", \"age\": 25, \"date\": \"1998-03-12T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Tim\", \"age\": 23, \"date\": \"2000-01-20T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Sara\", \"age\": 21, \"date\": \"2002-02-16T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Elias\", \"age\": 28, \"date\": \"1995-05-02T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Admir\", \"age\": 20, \"date\": \"2003-06-03T00:00:00\", \"city\": \"Munich\"}, {\"name\": \"Lina\", \"age\": 31, \"date\": \"1992-06-03T00:00:00\", \"city\": \"Stuttgart\"}]}}, {\"mode\": \"vega-lite\"});\n</script>\n```\n:::\n:::\n\n\n1. Sort the values in a descending order \n\n## Bar Chart with properties\n\n::: {#f0728245 .cell output-location='column-fragment' execution_count=7}\n``` {.python .cell-code}\nalt.Chart(df).mark_bar().encode(\n    x=alt.X('name').sort('-y'),\n    y=alt.Y('age')\n).properties(                            # <1>\n    title='This is a simple bar chart',  # <2>\n    width=300,                           # <3>\n    height=150                           # <4>\n)\n```\n\n::: {.cell-output .cell-output-display execution_count=7}\n```{=html}\n\n<style>\n  #altair-viz-25b50e00601e4c2ca9540e3a35afea6d.vega-embed {\n    width: 100%;\n    display: flex;\n  }\n\n  #altair-viz-25b50e00601e4c2ca9540e3a35afea6d.vega-embed details,\n  #altair-viz-25b50e00601e4c2ca9540e3a35afea6d.vega-embed details summary {\n    position: relative;\n  }\n</style>\n<div id=\"altair-viz-25b50e00601e4c2ca9540e3a35afea6d\"></div>\n<script type=\"text/javascript\">\n  var VEGA_DEBUG = (typeof VEGA_DEBUG == \"undefined\") ? {} : VEGA_DEBUG;\n  (function(spec, embedOpt){\n    let outputDiv = document.currentScript.previousElementSibling;\n    if (outputDiv.id !== \"altair-viz-25b50e00601e4c2ca9540e3a35afea6d\") {\n      outputDiv = document.getElementById(\"altair-viz-25b50e00601e4c2ca9540e3a35afea6d\");\n    }\n    const paths = {\n      \"vega\": \"https://cdn.jsdelivr.net/npm/vega@5?noext\",\n      \"vega-lib\": \"https://cdn.jsdelivr.net/npm/vega-lib?noext\",\n      \"vega-lite\": \"https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext\",\n      \"vega-embed\": \"https://cdn.jsdelivr.net/npm/vega-embed@6?noext\",\n    };\n\n    function maybeLoadScript(lib, version) {\n      var key = `${lib.replace(\"-\", \"\")}_version`;\n      return (VEGA_DEBUG[key] == version) ?\n        Promise.resolve(paths[lib]) :\n        new Promise(function(resolve, reject) {\n          var s = document.createElement('script');\n          document.getElementsByTagName(\"head\")[0].appendChild(s);\n          s.async = true;\n          s.onload = () => {\n            VEGA_DEBUG[key] = version;\n            return resolve(paths[lib]);\n          };\n          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);\n          s.src = paths[lib];\n        });\n    }\n\n    function showError(err) {\n      outputDiv.innerHTML = `<div class=\"error\" style=\"color:red;\">${err}</div>`;\n      throw err;\n    }\n\n    function displayChart(vegaEmbed) {\n      vegaEmbed(outputDiv, spec, embedOpt)\n        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));\n    }\n\n    if(typeof define === \"function\" && define.amd) {\n      requirejs.config({paths});\n      require([\"vega-embed\"], displayChart, err => showError(`Error loading script: ${err.message}`));\n    } else {\n      maybeLoadScript(\"vega\", \"5\")\n        .then(() => maybeLoadScript(\"vega-lite\", \"5.8.0\"))\n        .then(() => maybeLoadScript(\"vega-embed\", \"6\"))\n        .catch(showError)\n        .then(() => displayChart(vegaEmbed));\n    }\n  })({\"config\": {\"view\": {\"continuousWidth\": 300, \"continuousHeight\": 300}}, \"data\": {\"name\": \"data-35a07b333ab42c20ffaa19d64e97f161\"}, \"mark\": {\"type\": \"bar\"}, \"encoding\": {\"x\": {\"field\": \"name\", \"sort\": \"-y\", \"type\": \"nominal\"}, \"y\": {\"field\": \"age\", \"type\": \"quantitative\"}}, \"height\": 150, \"title\": \"This is a simple bar chart\", \"width\": 300, \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.8.0.json\", \"datasets\": {\"data-35a07b333ab42c20ffaa19d64e97f161\": [{\"name\": \"Zeynep\", \"age\": 33, \"date\": \"1990-06-03T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Anna\", \"age\": 25, \"date\": \"1998-03-12T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Tim\", \"age\": 23, \"date\": \"2000-01-20T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Sara\", \"age\": 21, \"date\": \"2002-02-16T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Elias\", \"age\": 28, \"date\": \"1995-05-02T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Admir\", \"age\": 20, \"date\": \"2003-06-03T00:00:00\", \"city\": \"Munich\"}, {\"name\": \"Lina\", \"age\": 31, \"date\": \"1992-06-03T00:00:00\", \"city\": \"Stuttgart\"}]}}, {\"mode\": \"vega-lite\"});\n</script>\n```\n:::\n:::\n\n\n1. Add properties to the chart\n2. Define a chart title\n3. Set the width of the chart (in pixel)\n4. Set the height of the chart (in pixel)\n\n\n\n## Bar Chart with properties\n\n::: {#47ae247b .cell output-location='column-fragment' execution_count=8}\n``` {.python .cell-code}\nalt.Chart(df).mark_bar().encode(\n    x=alt.X('name').sort('-y'),\n    y=alt.Y('age')\n).properties(                            # <1>\n    title='This is a simple bar chart',  # <2>\n    width=300,                           # <3>\n    height=150                           # <4>\n)\n```\n\n::: {.cell-output .cell-output-display execution_count=8}\n```{=html}\n\n<style>\n  #altair-viz-5078253ac4294e60915a065fd1f3702c.vega-embed {\n    width: 100%;\n    display: flex;\n  }\n\n  #altair-viz-5078253ac4294e60915a065fd1f3702c.vega-embed details,\n  #altair-viz-5078253ac4294e60915a065fd1f3702c.vega-embed details summary {\n    position: relative;\n  }\n</style>\n<div id=\"altair-viz-5078253ac4294e60915a065fd1f3702c\"></div>\n<script type=\"text/javascript\">\n  var VEGA_DEBUG = (typeof VEGA_DEBUG == \"undefined\") ? {} : VEGA_DEBUG;\n  (function(spec, embedOpt){\n    let outputDiv = document.currentScript.previousElementSibling;\n    if (outputDiv.id !== \"altair-viz-5078253ac4294e60915a065fd1f3702c\") {\n      outputDiv = document.getElementById(\"altair-viz-5078253ac4294e60915a065fd1f3702c\");\n    }\n    const paths = {\n      \"vega\": \"https://cdn.jsdelivr.net/npm/vega@5?noext\",\n      \"vega-lib\": \"https://cdn.jsdelivr.net/npm/vega-lib?noext\",\n      \"vega-lite\": \"https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext\",\n      \"vega-embed\": \"https://cdn.jsdelivr.net/npm/vega-embed@6?noext\",\n    };\n\n    function maybeLoadScript(lib, version) {\n      var key = `${lib.replace(\"-\", \"\")}_version`;\n      return (VEGA_DEBUG[key] == version) ?\n        Promise.resolve(paths[lib]) :\n        new Promise(function(resolve, reject) {\n          var s = document.createElement('script');\n          document.getElementsByTagName(\"head\")[0].appendChild(s);\n          s.async = true;\n          s.onload = () => {\n            VEGA_DEBUG[key] = version;\n            return resolve(paths[lib]);\n          };\n          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);\n          s.src = paths[lib];\n        });\n    }\n\n    function showError(err) {\n      outputDiv.innerHTML = `<div class=\"error\" style=\"color:red;\">${err}</div>`;\n      throw err;\n    }\n\n    function displayChart(vegaEmbed) {\n      vegaEmbed(outputDiv, spec, embedOpt)\n        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));\n    }\n\n    if(typeof define === \"function\" && define.amd) {\n      requirejs.config({paths});\n      require([\"vega-embed\"], displayChart, err => showError(`Error loading script: ${err.message}`));\n    } else {\n      maybeLoadScript(\"vega\", \"5\")\n        .then(() => maybeLoadScript(\"vega-lite\", \"5.8.0\"))\n        .then(() => maybeLoadScript(\"vega-embed\", \"6\"))\n        .catch(showError)\n        .then(() => displayChart(vegaEmbed));\n    }\n  })({\"config\": {\"view\": {\"continuousWidth\": 300, \"continuousHeight\": 300}}, \"data\": {\"name\": \"data-35a07b333ab42c20ffaa19d64e97f161\"}, \"mark\": {\"type\": \"bar\"}, \"encoding\": {\"x\": {\"field\": \"name\", \"sort\": \"-y\", \"type\": \"nominal\"}, \"y\": {\"field\": \"age\", \"type\": \"quantitative\"}}, \"height\": 150, \"title\": \"This is a simple bar chart\", \"width\": 300, \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.8.0.json\", \"datasets\": {\"data-35a07b333ab42c20ffaa19d64e97f161\": [{\"name\": \"Zeynep\", \"age\": 33, \"date\": \"1990-06-03T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Anna\", \"age\": 25, \"date\": \"1998-03-12T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Tim\", \"age\": 23, \"date\": \"2000-01-20T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Sara\", \"age\": 21, \"date\": \"2002-02-16T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Elias\", \"age\": 28, \"date\": \"1995-05-02T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Admir\", \"age\": 20, \"date\": \"2003-06-03T00:00:00\", \"city\": \"Munich\"}, {\"name\": \"Lina\", \"age\": 31, \"date\": \"1992-06-03T00:00:00\", \"city\": \"Stuttgart\"}]}}, {\"mode\": \"vega-lite\"});\n</script>\n```\n:::\n:::\n\n\n1. Add properties to the chart\n2. Define a chart title\n3. Set the width of the chart (in pixel)\n4. Set the height of the chart (in pixel)\n\n## Bar chart with custom x-axis\n\n::: {#1012fcc2 .cell output-location='column-fragment' execution_count=9}\n``` {.python .cell-code}\nalt.Chart(df).mark_bar().encode(\n    x=alt.X('name').sort('-y').axis(\n        title=\"Name\",  # <1>\n        labelAngle=0,         # <2>\n        grid=False,           # <3>\n        titleAnchor=\"start\"),  # <4>\n    y=alt.Y('age')\n).properties(\n    title='This is a simple bar chart',\n    width=300,\n    height=150\n)\n```\n\n::: {.cell-output .cell-output-display execution_count=9}\n```{=html}\n\n<style>\n  #altair-viz-a532065d79354ab6b36c99f79669bef2.vega-embed {\n    width: 100%;\n    display: flex;\n  }\n\n  #altair-viz-a532065d79354ab6b36c99f79669bef2.vega-embed details,\n  #altair-viz-a532065d79354ab6b36c99f79669bef2.vega-embed details summary {\n    position: relative;\n  }\n</style>\n<div id=\"altair-viz-a532065d79354ab6b36c99f79669bef2\"></div>\n<script type=\"text/javascript\">\n  var VEGA_DEBUG = (typeof VEGA_DEBUG == \"undefined\") ? {} : VEGA_DEBUG;\n  (function(spec, embedOpt){\n    let outputDiv = document.currentScript.previousElementSibling;\n    if (outputDiv.id !== \"altair-viz-a532065d79354ab6b36c99f79669bef2\") {\n      outputDiv = document.getElementById(\"altair-viz-a532065d79354ab6b36c99f79669bef2\");\n    }\n    const paths = {\n      \"vega\": \"https://cdn.jsdelivr.net/npm/vega@5?noext\",\n      \"vega-lib\": \"https://cdn.jsdelivr.net/npm/vega-lib?noext\",\n      \"vega-lite\": \"https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext\",\n      \"vega-embed\": \"https://cdn.jsdelivr.net/npm/vega-embed@6?noext\",\n    };\n\n    function maybeLoadScript(lib, version) {\n      var key = `${lib.replace(\"-\", \"\")}_version`;\n      return (VEGA_DEBUG[key] == version) ?\n        Promise.resolve(paths[lib]) :\n        new Promise(function(resolve, reject) {\n          var s = document.createElement('script');\n          document.getElementsByTagName(\"head\")[0].appendChild(s);\n          s.async = true;\n          s.onload = () => {\n            VEGA_DEBUG[key] = version;\n            return resolve(paths[lib]);\n          };\n          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);\n          s.src = paths[lib];\n        });\n    }\n\n    function showError(err) {\n      outputDiv.innerHTML = `<div class=\"error\" style=\"color:red;\">${err}</div>`;\n      throw err;\n    }\n\n    function displayChart(vegaEmbed) {\n      vegaEmbed(outputDiv, spec, embedOpt)\n        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));\n    }\n\n    if(typeof define === \"function\" && define.amd) {\n      requirejs.config({paths});\n      require([\"vega-embed\"], displayChart, err => showError(`Error loading script: ${err.message}`));\n    } else {\n      maybeLoadScript(\"vega\", \"5\")\n        .then(() => maybeLoadScript(\"vega-lite\", \"5.8.0\"))\n        .then(() => maybeLoadScript(\"vega-embed\", \"6\"))\n        .catch(showError)\n        .then(() => displayChart(vegaEmbed));\n    }\n  })({\"config\": {\"view\": {\"continuousWidth\": 300, \"continuousHeight\": 300}}, \"data\": {\"name\": \"data-35a07b333ab42c20ffaa19d64e97f161\"}, \"mark\": {\"type\": \"bar\"}, \"encoding\": {\"x\": {\"axis\": {\"title\": \"Name\", \"labelAngle\": 0, \"grid\": false, \"titleAnchor\": \"start\"}, \"field\": \"name\", \"sort\": \"-y\", \"type\": \"nominal\"}, \"y\": {\"field\": \"age\", \"type\": \"quantitative\"}}, \"height\": 150, \"title\": \"This is a simple bar chart\", \"width\": 300, \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.8.0.json\", \"datasets\": {\"data-35a07b333ab42c20ffaa19d64e97f161\": [{\"name\": \"Zeynep\", \"age\": 33, \"date\": \"1990-06-03T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Anna\", \"age\": 25, \"date\": \"1998-03-12T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Tim\", \"age\": 23, \"date\": \"2000-01-20T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Sara\", \"age\": 21, \"date\": \"2002-02-16T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Elias\", \"age\": 28, \"date\": \"1995-05-02T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Admir\", \"age\": 20, \"date\": \"2003-06-03T00:00:00\", \"city\": \"Munich\"}, {\"name\": \"Lina\", \"age\": 31, \"date\": \"1992-06-03T00:00:00\", \"city\": \"Stuttgart\"}]}}, {\"mode\": \"vega-lite\"});\n</script>\n```\n:::\n:::\n\n\n1. Title of x-axis\n2. Angle of axis text\n3. Hide the lines in the background\n4. Adjustment of the text at the x-axis\n\n\n## Bar chart with custom y-axis\n\n::: {#8c7ff264 .cell output-location='column-fragment' execution_count=10}\n``` {.python .cell-code}\nalt.Chart(df).mark_bar().encode(\n    x=alt.X('name').sort('-y'),\n    y=alt.Y('age').axis(\n        title=\"Age\",  # <1>\n        grid=False,  # <2>\n        titleAnchor=\"end\"),  # <3>\n).properties(\n    title='This is a simple bar chart',\n    width=300,\n    height=150\n)\n```\n\n::: {.cell-output .cell-output-display execution_count=10}\n```{=html}\n\n<style>\n  #altair-viz-a5dd993a8aa1497095a3c62457ba8633.vega-embed {\n    width: 100%;\n    display: flex;\n  }\n\n  #altair-viz-a5dd993a8aa1497095a3c62457ba8633.vega-embed details,\n  #altair-viz-a5dd993a8aa1497095a3c62457ba8633.vega-embed details summary {\n    position: relative;\n  }\n</style>\n<div id=\"altair-viz-a5dd993a8aa1497095a3c62457ba8633\"></div>\n<script type=\"text/javascript\">\n  var VEGA_DEBUG = (typeof VEGA_DEBUG == \"undefined\") ? {} : VEGA_DEBUG;\n  (function(spec, embedOpt){\n    let outputDiv = document.currentScript.previousElementSibling;\n    if (outputDiv.id !== \"altair-viz-a5dd993a8aa1497095a3c62457ba8633\") {\n      outputDiv = document.getElementById(\"altair-viz-a5dd993a8aa1497095a3c62457ba8633\");\n    }\n    const paths = {\n      \"vega\": \"https://cdn.jsdelivr.net/npm/vega@5?noext\",\n      \"vega-lib\": \"https://cdn.jsdelivr.net/npm/vega-lib?noext\",\n      \"vega-lite\": \"https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext\",\n      \"vega-embed\": \"https://cdn.jsdelivr.net/npm/vega-embed@6?noext\",\n    };\n\n    function maybeLoadScript(lib, version) {\n      var key = `${lib.replace(\"-\", \"\")}_version`;\n      return (VEGA_DEBUG[key] == version) ?\n        Promise.resolve(paths[lib]) :\n        new Promise(function(resolve, reject) {\n          var s = document.createElement('script');\n          document.getElementsByTagName(\"head\")[0].appendChild(s);\n          s.async = true;\n          s.onload = () => {\n            VEGA_DEBUG[key] = version;\n            return resolve(paths[lib]);\n          };\n          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);\n          s.src = paths[lib];\n        });\n    }\n\n    function showError(err) {\n      outputDiv.innerHTML = `<div class=\"error\" style=\"color:red;\">${err}</div>`;\n      throw err;\n    }\n\n    function displayChart(vegaEmbed) {\n      vegaEmbed(outputDiv, spec, embedOpt)\n        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));\n    }\n\n    if(typeof define === \"function\" && define.amd) {\n      requirejs.config({paths});\n      require([\"vega-embed\"], displayChart, err => showError(`Error loading script: ${err.message}`));\n    } else {\n      maybeLoadScript(\"vega\", \"5\")\n        .then(() => maybeLoadScript(\"vega-lite\", \"5.8.0\"))\n        .then(() => maybeLoadScript(\"vega-embed\", \"6\"))\n        .catch(showError)\n        .then(() => displayChart(vegaEmbed));\n    }\n  })({\"config\": {\"view\": {\"continuousWidth\": 300, \"continuousHeight\": 300}}, \"data\": {\"name\": \"data-35a07b333ab42c20ffaa19d64e97f161\"}, \"mark\": {\"type\": \"bar\"}, \"encoding\": {\"x\": {\"field\": \"name\", \"sort\": \"-y\", \"type\": \"nominal\"}, \"y\": {\"axis\": {\"title\": \"Age\", \"grid\": false, \"titleAnchor\": \"end\"}, \"field\": \"age\", \"type\": \"quantitative\"}}, \"height\": 150, \"title\": \"This is a simple bar chart\", \"width\": 300, \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.8.0.json\", \"datasets\": {\"data-35a07b333ab42c20ffaa19d64e97f161\": [{\"name\": \"Zeynep\", \"age\": 33, \"date\": \"1990-06-03T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Anna\", \"age\": 25, \"date\": \"1998-03-12T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Tim\", \"age\": 23, \"date\": \"2000-01-20T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Sara\", \"age\": 21, \"date\": \"2002-02-16T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Elias\", \"age\": 28, \"date\": \"1995-05-02T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Admir\", \"age\": 20, \"date\": \"2003-06-03T00:00:00\", \"city\": \"Munich\"}, {\"name\": \"Lina\", \"age\": 31, \"date\": \"1992-06-03T00:00:00\", \"city\": \"Stuttgart\"}]}}, {\"mode\": \"vega-lite\"});\n</script>\n```\n:::\n:::\n\n\n1. Title of y-axis\n2. Hide the grid\n3. Adjustment of the text at the y axis\n\n\n## Bar chart with custom title\n\n::: {#d64938c0 .cell output-location='column-fragment' execution_count=11}\n``` {.python .cell-code}\nalt.Chart(df).mark_bar().encode(\n    x=alt.X('name').sort('-y'),\n    y=alt.Y('age')\n).properties(\n    title='This is a simple bar chart',\n    width=300,\n    height=150\n).configure_title(  # <1>\n    fontSize=16,\n    font='Arial',\n    color='black',\n    anchor='start'  # <2>\n)\n```\n\n::: {.cell-output .cell-output-display execution_count=11}\n```{=html}\n\n<style>\n  #altair-viz-32ef6fbf6a0c49f49bc6704dc48af56f.vega-embed {\n    width: 100%;\n    display: flex;\n  }\n\n  #altair-viz-32ef6fbf6a0c49f49bc6704dc48af56f.vega-embed details,\n  #altair-viz-32ef6fbf6a0c49f49bc6704dc48af56f.vega-embed details summary {\n    position: relative;\n  }\n</style>\n<div id=\"altair-viz-32ef6fbf6a0c49f49bc6704dc48af56f\"></div>\n<script type=\"text/javascript\">\n  var VEGA_DEBUG = (typeof VEGA_DEBUG == \"undefined\") ? {} : VEGA_DEBUG;\n  (function(spec, embedOpt){\n    let outputDiv = document.currentScript.previousElementSibling;\n    if (outputDiv.id !== \"altair-viz-32ef6fbf6a0c49f49bc6704dc48af56f\") {\n      outputDiv = document.getElementById(\"altair-viz-32ef6fbf6a0c49f49bc6704dc48af56f\");\n    }\n    const paths = {\n      \"vega\": \"https://cdn.jsdelivr.net/npm/vega@5?noext\",\n      \"vega-lib\": \"https://cdn.jsdelivr.net/npm/vega-lib?noext\",\n      \"vega-lite\": \"https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext\",\n      \"vega-embed\": \"https://cdn.jsdelivr.net/npm/vega-embed@6?noext\",\n    };\n\n    function maybeLoadScript(lib, version) {\n      var key = `${lib.replace(\"-\", \"\")}_version`;\n      return (VEGA_DEBUG[key] == version) ?\n        Promise.resolve(paths[lib]) :\n        new Promise(function(resolve, reject) {\n          var s = document.createElement('script');\n          document.getElementsByTagName(\"head\")[0].appendChild(s);\n          s.async = true;\n          s.onload = () => {\n            VEGA_DEBUG[key] = version;\n            return resolve(paths[lib]);\n          };\n          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);\n          s.src = paths[lib];\n        });\n    }\n\n    function showError(err) {\n      outputDiv.innerHTML = `<div class=\"error\" style=\"color:red;\">${err}</div>`;\n      throw err;\n    }\n\n    function displayChart(vegaEmbed) {\n      vegaEmbed(outputDiv, spec, embedOpt)\n        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));\n    }\n\n    if(typeof define === \"function\" && define.amd) {\n      requirejs.config({paths});\n      require([\"vega-embed\"], displayChart, err => showError(`Error loading script: ${err.message}`));\n    } else {\n      maybeLoadScript(\"vega\", \"5\")\n        .then(() => maybeLoadScript(\"vega-lite\", \"5.8.0\"))\n        .then(() => maybeLoadScript(\"vega-embed\", \"6\"))\n        .catch(showError)\n        .then(() => displayChart(vegaEmbed));\n    }\n  })({\"config\": {\"view\": {\"continuousWidth\": 300, \"continuousHeight\": 300}, \"title\": {\"anchor\": \"start\", \"color\": \"black\", \"font\": \"Arial\", \"fontSize\": 16}}, \"data\": {\"name\": \"data-35a07b333ab42c20ffaa19d64e97f161\"}, \"mark\": {\"type\": \"bar\"}, \"encoding\": {\"x\": {\"field\": \"name\", \"sort\": \"-y\", \"type\": \"nominal\"}, \"y\": {\"field\": \"age\", \"type\": \"quantitative\"}}, \"height\": 150, \"title\": \"This is a simple bar chart\", \"width\": 300, \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.8.0.json\", \"datasets\": {\"data-35a07b333ab42c20ffaa19d64e97f161\": [{\"name\": \"Zeynep\", \"age\": 33, \"date\": \"1990-06-03T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Anna\", \"age\": 25, \"date\": \"1998-03-12T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Tim\", \"age\": 23, \"date\": \"2000-01-20T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Sara\", \"age\": 21, \"date\": \"2002-02-16T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Elias\", \"age\": 28, \"date\": \"1995-05-02T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Admir\", \"age\": 20, \"date\": \"2003-06-03T00:00:00\", \"city\": \"Munich\"}, {\"name\": \"Lina\", \"age\": 31, \"date\": \"1992-06-03T00:00:00\", \"city\": \"Stuttgart\"}]}}, {\"mode\": \"vega-lite\"});\n</script>\n```\n:::\n:::\n\n\n1. Custom title options\n2. Where to anchor the title (`start`, `middle` or `end`)\n\n## Final bar plot\n\n::: {#2364eecb .cell output-location='column-fragment' execution_count=12}\n``` {.python .cell-code}\nalt.Chart(df).mark_bar().encode(\n    x=alt.X('name').sort('-y').axis(\n        title=\"Name\",\n        labelAngle=0,\n        grid=False,\n        titleAnchor=\"start\"),\n    y=alt.Y('age').axis(\n        title=\"Age\",\n        grid=False,\n        titleAnchor=\"end\"),\n).properties(\n    title='This is a simple bar chart',\n    width=300,\n    height=150\n).configure_title(\n    fontSize=16,\n    font='Arial',\n    color='black',\n    anchor='start'\n).configure_view(  # <1>\n    strokeWidth=0\n)\n```\n\n::: {.cell-output .cell-output-display execution_count=12}\n```{=html}\n\n<style>\n  #altair-viz-7caf050cd713429b9a5292167b406b48.vega-embed {\n    width: 100%;\n    display: flex;\n  }\n\n  #altair-viz-7caf050cd713429b9a5292167b406b48.vega-embed details,\n  #altair-viz-7caf050cd713429b9a5292167b406b48.vega-embed details summary {\n    position: relative;\n  }\n</style>\n<div id=\"altair-viz-7caf050cd713429b9a5292167b406b48\"></div>\n<script type=\"text/javascript\">\n  var VEGA_DEBUG = (typeof VEGA_DEBUG == \"undefined\") ? {} : VEGA_DEBUG;\n  (function(spec, embedOpt){\n    let outputDiv = document.currentScript.previousElementSibling;\n    if (outputDiv.id !== \"altair-viz-7caf050cd713429b9a5292167b406b48\") {\n      outputDiv = document.getElementById(\"altair-viz-7caf050cd713429b9a5292167b406b48\");\n    }\n    const paths = {\n      \"vega\": \"https://cdn.jsdelivr.net/npm/vega@5?noext\",\n      \"vega-lib\": \"https://cdn.jsdelivr.net/npm/vega-lib?noext\",\n      \"vega-lite\": \"https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext\",\n      \"vega-embed\": \"https://cdn.jsdelivr.net/npm/vega-embed@6?noext\",\n    };\n\n    function maybeLoadScript(lib, version) {\n      var key = `${lib.replace(\"-\", \"\")}_version`;\n      return (VEGA_DEBUG[key] == version) ?\n        Promise.resolve(paths[lib]) :\n        new Promise(function(resolve, reject) {\n          var s = document.createElement('script');\n          document.getElementsByTagName(\"head\")[0].appendChild(s);\n          s.async = true;\n          s.onload = () => {\n            VEGA_DEBUG[key] = version;\n            return resolve(paths[lib]);\n          };\n          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);\n          s.src = paths[lib];\n        });\n    }\n\n    function showError(err) {\n      outputDiv.innerHTML = `<div class=\"error\" style=\"color:red;\">${err}</div>`;\n      throw err;\n    }\n\n    function displayChart(vegaEmbed) {\n      vegaEmbed(outputDiv, spec, embedOpt)\n        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));\n    }\n\n    if(typeof define === \"function\" && define.amd) {\n      requirejs.config({paths});\n      require([\"vega-embed\"], displayChart, err => showError(`Error loading script: ${err.message}`));\n    } else {\n      maybeLoadScript(\"vega\", \"5\")\n        .then(() => maybeLoadScript(\"vega-lite\", \"5.8.0\"))\n        .then(() => maybeLoadScript(\"vega-embed\", \"6\"))\n        .catch(showError)\n        .then(() => displayChart(vegaEmbed));\n    }\n  })({\"config\": {\"view\": {\"continuousWidth\": 300, \"continuousHeight\": 300, \"strokeWidth\": 0}, \"title\": {\"anchor\": \"start\", \"color\": \"black\", \"font\": \"Arial\", \"fontSize\": 16}}, \"data\": {\"name\": \"data-35a07b333ab42c20ffaa19d64e97f161\"}, \"mark\": {\"type\": \"bar\"}, \"encoding\": {\"x\": {\"axis\": {\"title\": \"Name\", \"labelAngle\": 0, \"grid\": false, \"titleAnchor\": \"start\"}, \"field\": \"name\", \"sort\": \"-y\", \"type\": \"nominal\"}, \"y\": {\"axis\": {\"title\": \"Age\", \"grid\": false, \"titleAnchor\": \"end\"}, \"field\": \"age\", \"type\": \"quantitative\"}}, \"height\": 150, \"title\": \"This is a simple bar chart\", \"width\": 300, \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.8.0.json\", \"datasets\": {\"data-35a07b333ab42c20ffaa19d64e97f161\": [{\"name\": \"Zeynep\", \"age\": 33, \"date\": \"1990-06-03T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Anna\", \"age\": 25, \"date\": \"1998-03-12T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Tim\", \"age\": 23, \"date\": \"2000-01-20T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Sara\", \"age\": 21, \"date\": \"2002-02-16T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Elias\", \"age\": 28, \"date\": \"1995-05-02T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Admir\", \"age\": 20, \"date\": \"2003-06-03T00:00:00\", \"city\": \"Munich\"}, {\"name\": \"Lina\", \"age\": 31, \"date\": \"1992-06-03T00:00:00\", \"city\": \"Stuttgart\"}]}}, {\"mode\": \"vega-lite\"});\n</script>\n```\n:::\n:::\n\n\n1. Remove the lines at the top and the right of the plot\n\n# Altair line chart example\n\n## Data\n\n::: {#34485ed4 .cell execution_count=13}\n``` {.python .cell-code}\ndf2 = pd.read_csv(\n    'https://raw.githubusercontent.com/kirenz/lab-competitive/main/code/ecommerce.csv')\n\ndf2['date'] = pd.to_datetime(df2['date'])\n```\n:::\n\n\n::: {#0bf0add4 .cell output-location='slide' execution_count=14}\n``` {.python .cell-code}\ndf2\n```\n\n::: {.cell-output .cell-output-display execution_count=14}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>eshop_name</th>\n      <th>date</th>\n      <th>annual_revenue</th>\n      <th>time_on_site</th>\n      <th>average_rating</th>\n      <th>social_media_followers</th>\n      <th>average_response_time</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>E-ShopA</td>\n      <td>2020-01-31</td>\n      <td>13.35</td>\n      <td>1.09</td>\n      <td>4.17</td>\n      <td>173.76</td>\n      <td>2.35</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>E-ShopA</td>\n      <td>2020-02-29</td>\n      <td>10.74</td>\n      <td>0.56</td>\n      <td>4.79</td>\n      <td>52.69</td>\n      <td>2.58</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>E-ShopA</td>\n      <td>2020-03-31</td>\n      <td>11.91</td>\n      <td>0.57</td>\n      <td>2.92</td>\n      <td>141.79</td>\n      <td>1.54</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>E-ShopA</td>\n      <td>2020-04-30</td>\n      <td>16.38</td>\n      <td>2.44</td>\n      <td>3.68</td>\n      <td>190.57</td>\n      <td>1.92</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>E-ShopA</td>\n      <td>2020-05-31</td>\n      <td>6.52</td>\n      <td>2.07</td>\n      <td>2.67</td>\n      <td>129.49</td>\n      <td>1.49</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>103</th>\n      <td>E-ShopC</td>\n      <td>2022-08-31</td>\n      <td>64.83</td>\n      <td>12.48</td>\n      <td>6.54</td>\n      <td>1529.19</td>\n      <td>1.66</td>\n    </tr>\n    <tr>\n      <th>104</th>\n      <td>E-ShopC</td>\n      <td>2022-09-30</td>\n      <td>31.70</td>\n      <td>7.10</td>\n      <td>3.04</td>\n      <td>664.30</td>\n      <td>0.88</td>\n    </tr>\n    <tr>\n      <th>105</th>\n      <td>E-ShopC</td>\n      <td>2022-10-31</td>\n      <td>27.09</td>\n      <td>5.56</td>\n      <td>2.65</td>\n      <td>538.03</td>\n      <td>0.64</td>\n    </tr>\n    <tr>\n      <th>106</th>\n      <td>E-ShopC</td>\n      <td>2022-11-30</td>\n      <td>56.59</td>\n      <td>9.45</td>\n      <td>4.88</td>\n      <td>968.37</td>\n      <td>1.13</td>\n    </tr>\n    <tr>\n      <th>107</th>\n      <td>E-ShopC</td>\n      <td>2022-12-31</td>\n      <td>66.50</td>\n      <td>11.05</td>\n      <td>5.56</td>\n      <td>1262.25</td>\n      <td>1.28</td>\n    </tr>\n  </tbody>\n</table>\n<p>108 rows × 7 columns</p>\n</div>\n```\n:::\n:::\n\n\n## What is wrong with this chart?\n\n::: {#b12bbb93 .cell output-location='column-fragment' execution_count=15}\n``` {.python .cell-code}\nalt.Chart(df2).mark_line().encode(\n    x=alt.X('date:O'),  # <1>\n    y=alt.Y('annual_revenue')\n)\n```\n\n::: {.cell-output .cell-output-display execution_count=15}\n```{=html}\n\n<style>\n  #altair-viz-63d90a3f06fd4137992d4dc662cb127c.vega-embed {\n    width: 100%;\n    display: flex;\n  }\n\n  #altair-viz-63d90a3f06fd4137992d4dc662cb127c.vega-embed details,\n  #altair-viz-63d90a3f06fd4137992d4dc662cb127c.vega-embed details summary {\n    position: relative;\n  }\n</style>\n<div id=\"altair-viz-63d90a3f06fd4137992d4dc662cb127c\"></div>\n<script type=\"text/javascript\">\n  var VEGA_DEBUG = (typeof VEGA_DEBUG == \"undefined\") ? {} : VEGA_DEBUG;\n  (function(spec, embedOpt){\n    let outputDiv = document.currentScript.previousElementSibling;\n    if (outputDiv.id !== \"altair-viz-63d90a3f06fd4137992d4dc662cb127c\") {\n      outputDiv = document.getElementById(\"altair-viz-63d90a3f06fd4137992d4dc662cb127c\");\n    }\n    const paths = {\n      \"vega\": \"https://cdn.jsdelivr.net/npm/vega@5?noext\",\n      \"vega-lib\": \"https://cdn.jsdelivr.net/npm/vega-lib?noext\",\n      \"vega-lite\": \"https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext\",\n      \"vega-embed\": \"https://cdn.jsdelivr.net/npm/vega-embed@6?noext\",\n    };\n\n    function maybeLoadScript(lib, version) {\n      var key = `${lib.replace(\"-\", \"\")}_version`;\n      return (VEGA_DEBUG[key] == version) ?\n        Promise.resolve(paths[lib]) :\n        new Promise(function(resolve, reject) {\n          var s = document.createElement('script');\n          document.getElementsByTagName(\"head\")[0].appendChild(s);\n          s.async = true;\n          s.onload = () => {\n            VEGA_DEBUG[key] = version;\n            return resolve(paths[lib]);\n          };\n          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);\n          s.src = paths[lib];\n        });\n    }\n\n    function showError(err) {\n      outputDiv.innerHTML = `<div class=\"error\" style=\"color:red;\">${err}</div>`;\n      throw err;\n    }\n\n    function displayChart(vegaEmbed) {\n      vegaEmbed(outputDiv, spec, embedOpt)\n        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));\n    }\n\n    if(typeof define === \"function\" && define.amd) {\n      requirejs.config({paths});\n      require([\"vega-embed\"], displayChart, err => showError(`Error loading script: ${err.message}`));\n    } else {\n      maybeLoadScript(\"vega\", \"5\")\n        .then(() => maybeLoadScript(\"vega-lite\", \"5.8.0\"))\n        .then(() => maybeLoadScript(\"vega-embed\", \"6\"))\n        .catch(showError)\n        .then(() => displayChart(vegaEmbed));\n    }\n  })({\"config\": {\"view\": {\"continuousWidth\": 300, \"continuousHeight\": 300}}, \"data\": {\"name\": \"data-3a26c000e4862bfeb4ac3c81f7273b97\"}, \"mark\": {\"type\": \"line\"}, \"encoding\": {\"x\": {\"field\": \"date\", \"type\": \"ordinal\"}, \"y\": {\"field\": \"annual_revenue\", \"type\": \"quantitative\"}}, \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.8.0.json\", \"datasets\": {\"data-3a26c000e4862bfeb4ac3c81f7273b97\": [{\"eshop_name\": \"E-ShopA\", \"date\": \"2020-01-31T00:00:00\", \"annual_revenue\": 13.35, \"time_on_site\": 1.09, \"average_rating\": 4.17, \"social_media_followers\": 173.76, \"average_response_time\": 2.35}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-02-29T00:00:00\", \"annual_revenue\": 10.74, \"time_on_site\": 0.56, \"average_rating\": 4.79, \"social_media_followers\": 52.69, \"average_response_time\": 2.58}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-03-31T00:00:00\", \"annual_revenue\": 11.91, \"time_on_site\": 0.57, \"average_rating\": 2.92, \"social_media_followers\": 141.79, \"average_response_time\": 1.54}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-04-30T00:00:00\", \"annual_revenue\": 16.38, \"time_on_site\": 2.44, \"average_rating\": 3.68, \"social_media_followers\": 190.57, \"average_response_time\": 1.92}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-05-31T00:00:00\", \"annual_revenue\": 6.52, \"time_on_site\": 2.07, \"average_rating\": 2.67, \"social_media_followers\": 129.49, \"average_response_time\": 1.49}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-06-30T00:00:00\", \"annual_revenue\": 15.8, \"time_on_site\": 3.79, \"average_rating\": 4.9, \"social_media_followers\": 209.08, \"average_response_time\": 2.51}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-07-31T00:00:00\", \"annual_revenue\": 20.97, \"time_on_site\": 2.29, \"average_rating\": 4.54, \"social_media_followers\": 313.68, \"average_response_time\": 2.2}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-08-31T00:00:00\", \"annual_revenue\": 9.4, \"time_on_site\": 1.67, \"average_rating\": 2.02, \"social_media_followers\": 139.71, \"average_response_time\": 0.93}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-09-30T00:00:00\", \"annual_revenue\": 10.09, \"time_on_site\": 1.67, \"average_rating\": 1.99, \"social_media_followers\": 167.66, \"average_response_time\": 0.85}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-10-31T00:00:00\", \"annual_revenue\": 25.98, \"time_on_site\": 5.17, \"average_rating\": 5.41, \"social_media_followers\": 487.31, \"average_response_time\": 2.48}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-11-30T00:00:00\", \"annual_revenue\": 18.07, \"time_on_site\": 3.33, \"average_rating\": 2.81, \"social_media_followers\": 328.19, \"average_response_time\": 1.28}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-12-31T00:00:00\", \"annual_revenue\": 36.81, \"time_on_site\": 5.99, \"average_rating\": 5.58, \"social_media_followers\": 548.23, \"average_response_time\": 2.75}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-01-31T00:00:00\", \"annual_revenue\": 33.28, \"time_on_site\": 6.63, \"average_rating\": 5.18, \"social_media_followers\": 497.46, \"average_response_time\": 2.32}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-02-28T00:00:00\", \"annual_revenue\": 14.35, \"time_on_site\": 2.24, \"average_rating\": 1.99, \"social_media_followers\": 225.24, \"average_response_time\": 0.88}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-03-31T00:00:00\", \"annual_revenue\": 32.38, \"time_on_site\": 5.78, \"average_rating\": 4.55, \"social_media_followers\": 556.54, \"average_response_time\": 1.83}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-04-30T00:00:00\", \"annual_revenue\": 34.06, \"time_on_site\": 7.61, \"average_rating\": 5.45, \"social_media_followers\": 767.84, \"average_response_time\": 2.01}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-05-31T00:00:00\", \"annual_revenue\": 37.03, \"time_on_site\": 4.61, \"average_rating\": 5.05, \"social_media_followers\": 697.06, \"average_response_time\": 1.82}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-06-30T00:00:00\", \"annual_revenue\": 22.18, \"time_on_site\": 4.22, \"average_rating\": 3.37, \"social_media_followers\": 463.57, \"average_response_time\": 1.2}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-07-31T00:00:00\", \"annual_revenue\": 36.24, \"time_on_site\": 5.63, \"average_rating\": 4.45, \"social_media_followers\": 694.09, \"average_response_time\": 1.85}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-08-31T00:00:00\", \"annual_revenue\": 20.09, \"time_on_site\": 3.34, \"average_rating\": 2.57, \"social_media_followers\": 336.78, \"average_response_time\": 0.88}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-09-30T00:00:00\", \"annual_revenue\": 28.98, \"time_on_site\": 5.27, \"average_rating\": 3.62, \"social_media_followers\": 522.46, \"average_response_time\": 1.36}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-10-31T00:00:00\", \"annual_revenue\": 41.89, \"time_on_site\": 10.34, \"average_rating\": 5.36, \"social_media_followers\": 778.12, \"average_response_time\": 1.72}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-11-30T00:00:00\", \"annual_revenue\": 57.76, \"time_on_site\": 8.62, \"average_rating\": 5.89, \"social_media_followers\": 961.73, \"average_response_time\": 2.18}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-12-31T00:00:00\", \"annual_revenue\": 18.83, \"time_on_site\": 4.14, \"average_rating\": 2.11, \"social_media_followers\": 327.24, \"average_response_time\": 0.73}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-01-31T00:00:00\", \"annual_revenue\": 53.2, \"time_on_site\": 8.08, \"average_rating\": 5.97, \"social_media_followers\": 1102.33, \"average_response_time\": 1.91}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-02-28T00:00:00\", \"annual_revenue\": 45.74, \"time_on_site\": 8.64, \"average_rating\": 5.02, \"social_media_followers\": 892.1, \"average_response_time\": 1.56}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-03-31T00:00:00\", \"annual_revenue\": 48.44, \"time_on_site\": 9.21, \"average_rating\": 5.02, \"social_media_followers\": 815.05, \"average_response_time\": 1.4}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-04-30T00:00:00\", \"annual_revenue\": 48.98, \"time_on_site\": 9.96, \"average_rating\": 4.88, \"social_media_followers\": 868.04, \"average_response_time\": 1.49}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-05-31T00:00:00\", \"annual_revenue\": 45.62, \"time_on_site\": 9.4, \"average_rating\": 4.5, \"social_media_followers\": 881.61, \"average_response_time\": 1.22}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-06-30T00:00:00\", \"annual_revenue\": 66.27, \"time_on_site\": 13.79, \"average_rating\": 6.65, \"social_media_followers\": 1323.58, \"average_response_time\": 1.56}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-07-31T00:00:00\", \"annual_revenue\": 63.04, \"time_on_site\": 10.41, \"average_rating\": 5.37, \"social_media_followers\": 1207.44, \"average_response_time\": 1.26}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-08-31T00:00:00\", \"annual_revenue\": 31.29, \"time_on_site\": 6.02, \"average_rating\": 3.16, \"social_media_followers\": 738.19, \"average_response_time\": 0.8}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-09-30T00:00:00\", \"annual_revenue\": 66.11, \"time_on_site\": 14.81, \"average_rating\": 6.34, \"social_media_followers\": 1385.38, \"average_response_time\": 1.83}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-10-31T00:00:00\", \"annual_revenue\": 27.25, \"time_on_site\": 5.59, \"average_rating\": 2.66, \"social_media_followers\": 541.14, \"average_response_time\": 0.65}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-11-30T00:00:00\", \"annual_revenue\": 61.7, \"time_on_site\": 10.31, \"average_rating\": 5.32, \"social_media_followers\": 1055.7, \"average_response_time\": 1.24}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-12-31T00:00:00\", \"annual_revenue\": 74.67, \"time_on_site\": 12.41, \"average_rating\": 6.25, \"social_media_followers\": 1417.39, \"average_response_time\": 1.44}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-01-31T00:00:00\", \"annual_revenue\": 7.29, \"time_on_site\": 0.59, \"average_rating\": 2.28, \"social_media_followers\": 94.92, \"average_response_time\": 1.28}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-02-29T00:00:00\", \"annual_revenue\": 10.38, \"time_on_site\": 0.54, \"average_rating\": 4.63, \"social_media_followers\": 50.92, \"average_response_time\": 2.5}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-03-31T00:00:00\", \"annual_revenue\": 9.49, \"time_on_site\": 0.45, \"average_rating\": 2.33, \"social_media_followers\": 113.0, \"average_response_time\": 1.23}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-04-30T00:00:00\", \"annual_revenue\": 10.21, \"time_on_site\": 1.52, \"average_rating\": 2.3, \"social_media_followers\": 118.81, \"average_response_time\": 1.19}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-05-31T00:00:00\", \"annual_revenue\": 10.48, \"time_on_site\": 3.33, \"average_rating\": 4.29, \"social_media_followers\": 208.06, \"average_response_time\": 2.39}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-06-30T00:00:00\", \"annual_revenue\": 12.52, \"time_on_site\": 3.0, \"average_rating\": 3.88, \"social_media_followers\": 165.64, \"average_response_time\": 1.99}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-07-31T00:00:00\", \"annual_revenue\": 20.23, \"time_on_site\": 2.21, \"average_rating\": 4.38, \"social_media_followers\": 302.67, \"average_response_time\": 2.13}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-08-31T00:00:00\", \"annual_revenue\": 20.03, \"time_on_site\": 3.56, \"average_rating\": 4.31, \"social_media_followers\": 297.85, \"average_response_time\": 1.99}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-09-30T00:00:00\", \"annual_revenue\": 20.65, \"time_on_site\": 3.43, \"average_rating\": 4.08, \"social_media_followers\": 343.22, \"average_response_time\": 1.73}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-10-31T00:00:00\", \"annual_revenue\": 23.25, \"time_on_site\": 4.63, \"average_rating\": 4.84, \"social_media_followers\": 435.95, \"average_response_time\": 2.22}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-11-30T00:00:00\", \"annual_revenue\": 19.02, \"time_on_site\": 3.51, \"average_rating\": 2.96, \"social_media_followers\": 345.43, \"average_response_time\": 1.35}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-12-31T00:00:00\", \"annual_revenue\": 25.65, \"time_on_site\": 4.17, \"average_rating\": 3.89, \"social_media_followers\": 382.13, \"average_response_time\": 1.92}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-01-31T00:00:00\", \"annual_revenue\": 31.11, \"time_on_site\": 6.19, \"average_rating\": 4.85, \"social_media_followers\": 465.09, \"average_response_time\": 2.17}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-02-28T00:00:00\", \"annual_revenue\": 29.82, \"time_on_site\": 4.66, \"average_rating\": 4.14, \"social_media_followers\": 468.06, \"average_response_time\": 1.82}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-03-31T00:00:00\", \"annual_revenue\": 19.91, \"time_on_site\": 3.55, \"average_rating\": 2.8, \"social_media_followers\": 342.25, \"average_response_time\": 1.13}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-04-30T00:00:00\", \"annual_revenue\": 34.53, \"time_on_site\": 7.72, \"average_rating\": 5.53, \"social_media_followers\": 778.44, \"average_response_time\": 2.04}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-05-31T00:00:00\", \"annual_revenue\": 19.22, \"time_on_site\": 2.39, \"average_rating\": 2.62, \"social_media_followers\": 361.78, \"average_response_time\": 0.95}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-06-30T00:00:00\", \"annual_revenue\": 18.94, \"time_on_site\": 3.6, \"average_rating\": 2.87, \"social_media_followers\": 395.87, \"average_response_time\": 1.03}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-07-31T00:00:00\", \"annual_revenue\": 28.1, \"time_on_site\": 4.37, \"average_rating\": 3.45, \"social_media_followers\": 538.12, \"average_response_time\": 1.44}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-08-31T00:00:00\", \"annual_revenue\": 27.93, \"time_on_site\": 4.65, \"average_rating\": 3.57, \"social_media_followers\": 468.33, \"average_response_time\": 1.22}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-09-30T00:00:00\", \"annual_revenue\": 17.15, \"time_on_site\": 3.12, \"average_rating\": 2.14, \"social_media_followers\": 309.19, \"average_response_time\": 0.8}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-10-31T00:00:00\", \"annual_revenue\": 38.4, \"time_on_site\": 9.48, \"average_rating\": 4.92, \"social_media_followers\": 713.21, \"average_response_time\": 1.57}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-11-30T00:00:00\", \"annual_revenue\": 20.59, \"time_on_site\": 3.07, \"average_rating\": 2.1, \"social_media_followers\": 342.89, \"average_response_time\": 0.78}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-12-31T00:00:00\", \"annual_revenue\": 23.07, \"time_on_site\": 5.08, \"average_rating\": 2.58, \"social_media_followers\": 401.07, \"average_response_time\": 0.89}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-01-31T00:00:00\", \"annual_revenue\": 27.05, \"time_on_site\": 4.11, \"average_rating\": 3.03, \"social_media_followers\": 560.48, \"average_response_time\": 0.97}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-02-28T00:00:00\", \"annual_revenue\": 34.88, \"time_on_site\": 6.59, \"average_rating\": 3.83, \"social_media_followers\": 680.28, \"average_response_time\": 1.19}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-03-31T00:00:00\", \"annual_revenue\": 30.02, \"time_on_site\": 5.71, \"average_rating\": 3.11, \"social_media_followers\": 505.16, \"average_response_time\": 0.87}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-04-30T00:00:00\", \"annual_revenue\": 49.08, \"time_on_site\": 9.98, \"average_rating\": 4.89, \"social_media_followers\": 869.97, \"average_response_time\": 1.49}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-05-31T00:00:00\", \"annual_revenue\": 25.02, \"time_on_site\": 5.16, \"average_rating\": 2.47, \"social_media_followers\": 483.57, \"average_response_time\": 0.67}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-06-30T00:00:00\", \"annual_revenue\": 58.14, \"time_on_site\": 12.1, \"average_rating\": 5.83, \"social_media_followers\": 1161.17, \"average_response_time\": 1.37}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-07-31T00:00:00\", \"annual_revenue\": 47.16, \"time_on_site\": 7.78, \"average_rating\": 4.02, \"social_media_followers\": 903.2, \"average_response_time\": 0.94}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-08-31T00:00:00\", \"annual_revenue\": 59.03, \"time_on_site\": 11.36, \"average_rating\": 5.95, \"social_media_followers\": 1392.46, \"average_response_time\": 1.51}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-09-30T00:00:00\", \"annual_revenue\": 57.93, \"time_on_site\": 12.98, \"average_rating\": 5.56, \"social_media_followers\": 1213.84, \"average_response_time\": 1.6}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-10-31T00:00:00\", \"annual_revenue\": 31.13, \"time_on_site\": 6.39, \"average_rating\": 3.04, \"social_media_followers\": 618.3, \"average_response_time\": 0.74}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-11-30T00:00:00\", \"annual_revenue\": 70.84, \"time_on_site\": 11.83, \"average_rating\": 6.11, \"social_media_followers\": 1212.05, \"average_response_time\": 1.42}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-12-31T00:00:00\", \"annual_revenue\": 63.77, \"time_on_site\": 10.59, \"average_rating\": 5.33, \"social_media_followers\": 1210.45, \"average_response_time\": 1.23}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-01-31T00:00:00\", \"annual_revenue\": 7.8, \"time_on_site\": 0.64, \"average_rating\": 2.44, \"social_media_followers\": 101.48, \"average_response_time\": 1.37}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-02-29T00:00:00\", \"annual_revenue\": 10.17, \"time_on_site\": 0.53, \"average_rating\": 4.54, \"social_media_followers\": 49.89, \"average_response_time\": 2.45}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-03-31T00:00:00\", \"annual_revenue\": 21.13, \"time_on_site\": 1.0, \"average_rating\": 5.19, \"social_media_followers\": 251.58, \"average_response_time\": 2.73}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-04-30T00:00:00\", \"annual_revenue\": 21.77, \"time_on_site\": 3.24, \"average_rating\": 4.9, \"social_media_followers\": 253.29, \"average_response_time\": 2.55}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-05-31T00:00:00\", \"annual_revenue\": 8.46, \"time_on_site\": 2.69, \"average_rating\": 3.47, \"social_media_followers\": 168.01, \"average_response_time\": 1.93}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-06-30T00:00:00\", \"annual_revenue\": 17.21, \"time_on_site\": 4.12, \"average_rating\": 5.33, \"social_media_followers\": 227.75, \"average_response_time\": 2.73}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-07-31T00:00:00\", \"annual_revenue\": 24.99, \"time_on_site\": 2.73, \"average_rating\": 5.41, \"social_media_followers\": 373.88, \"average_response_time\": 2.63}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-08-31T00:00:00\", \"annual_revenue\": 25.1, \"time_on_site\": 4.46, \"average_rating\": 5.4, \"social_media_followers\": 373.21, \"average_response_time\": 2.5}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-09-30T00:00:00\", \"annual_revenue\": 20.67, \"time_on_site\": 3.43, \"average_rating\": 4.09, \"social_media_followers\": 343.61, \"average_response_time\": 1.74}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-10-31T00:00:00\", \"annual_revenue\": 15.02, \"time_on_site\": 2.99, \"average_rating\": 3.13, \"social_media_followers\": 281.72, \"average_response_time\": 1.44}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-11-30T00:00:00\", \"annual_revenue\": 12.32, \"time_on_site\": 2.27, \"average_rating\": 1.92, \"social_media_followers\": 223.82, \"average_response_time\": 0.87}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-12-31T00:00:00\", \"annual_revenue\": 16.27, \"time_on_site\": 2.65, \"average_rating\": 2.47, \"social_media_followers\": 242.29, \"average_response_time\": 1.22}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-01-31T00:00:00\", \"annual_revenue\": 24.35, \"time_on_site\": 4.85, \"average_rating\": 3.79, \"social_media_followers\": 364.03, \"average_response_time\": 1.7}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-02-28T00:00:00\", \"annual_revenue\": 14.82, \"time_on_site\": 2.31, \"average_rating\": 2.06, \"social_media_followers\": 232.54, \"average_response_time\": 0.91}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-03-31T00:00:00\", \"annual_revenue\": 18.86, \"time_on_site\": 3.37, \"average_rating\": 2.65, \"social_media_followers\": 324.17, \"average_response_time\": 1.07}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-04-30T00:00:00\", \"annual_revenue\": 28.54, \"time_on_site\": 6.38, \"average_rating\": 4.57, \"social_media_followers\": 643.32, \"average_response_time\": 1.69}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-05-31T00:00:00\", \"annual_revenue\": 27.21, \"time_on_site\": 3.39, \"average_rating\": 3.71, \"social_media_followers\": 512.22, \"average_response_time\": 1.34}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-06-30T00:00:00\", \"annual_revenue\": 27.9, \"time_on_site\": 5.31, \"average_rating\": 4.24, \"social_media_followers\": 583.31, \"average_response_time\": 1.52}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-07-31T00:00:00\", \"annual_revenue\": 23.72, \"time_on_site\": 3.69, \"average_rating\": 2.91, \"social_media_followers\": 454.31, \"average_response_time\": 1.21}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-08-31T00:00:00\", \"annual_revenue\": 16.58, \"time_on_site\": 2.76, \"average_rating\": 2.12, \"social_media_followers\": 278.01, \"average_response_time\": 0.72}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-09-30T00:00:00\", \"annual_revenue\": 47.0, \"time_on_site\": 8.54, \"average_rating\": 5.86, \"social_media_followers\": 847.25, \"average_response_time\": 2.2}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-10-31T00:00:00\", \"annual_revenue\": 44.3, \"time_on_site\": 10.94, \"average_rating\": 5.67, \"social_media_followers\": 822.93, \"average_response_time\": 1.82}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-11-30T00:00:00\", \"annual_revenue\": 49.79, \"time_on_site\": 7.43, \"average_rating\": 5.08, \"social_media_followers\": 829.0, \"average_response_time\": 1.88}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-12-31T00:00:00\", \"annual_revenue\": 40.87, \"time_on_site\": 8.99, \"average_rating\": 4.58, \"social_media_followers\": 710.44, \"average_response_time\": 1.58}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-01-31T00:00:00\", \"annual_revenue\": 53.32, \"time_on_site\": 8.1, \"average_rating\": 5.98, \"social_media_followers\": 1104.95, \"average_response_time\": 1.92}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-02-28T00:00:00\", \"annual_revenue\": 29.99, \"time_on_site\": 5.67, \"average_rating\": 3.29, \"social_media_followers\": 584.84, \"average_response_time\": 1.02}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-03-31T00:00:00\", \"annual_revenue\": 21.0, \"time_on_site\": 3.99, \"average_rating\": 2.18, \"social_media_followers\": 353.32, \"average_response_time\": 0.61}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-04-30T00:00:00\", \"annual_revenue\": 56.89, \"time_on_site\": 11.57, \"average_rating\": 5.67, \"social_media_followers\": 1008.37, \"average_response_time\": 1.73}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-05-31T00:00:00\", \"annual_revenue\": 44.04, \"time_on_site\": 9.08, \"average_rating\": 4.34, \"social_media_followers\": 851.22, \"average_response_time\": 1.18}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-06-30T00:00:00\", \"annual_revenue\": 53.14, \"time_on_site\": 11.06, \"average_rating\": 5.33, \"social_media_followers\": 1061.45, \"average_response_time\": 1.25}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-07-31T00:00:00\", \"annual_revenue\": 32.56, \"time_on_site\": 5.37, \"average_rating\": 2.78, \"social_media_followers\": 623.72, \"average_response_time\": 0.65}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-08-31T00:00:00\", \"annual_revenue\": 64.83, \"time_on_site\": 12.48, \"average_rating\": 6.54, \"social_media_followers\": 1529.19, \"average_response_time\": 1.66}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-09-30T00:00:00\", \"annual_revenue\": 31.7, \"time_on_site\": 7.1, \"average_rating\": 3.04, \"social_media_followers\": 664.3, \"average_response_time\": 0.88}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-10-31T00:00:00\", \"annual_revenue\": 27.09, \"time_on_site\": 5.56, \"average_rating\": 2.65, \"social_media_followers\": 538.03, \"average_response_time\": 0.64}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-11-30T00:00:00\", \"annual_revenue\": 56.59, \"time_on_site\": 9.45, \"average_rating\": 4.88, \"social_media_followers\": 968.37, \"average_response_time\": 1.13}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-12-31T00:00:00\", \"annual_revenue\": 66.5, \"time_on_site\": 11.05, \"average_rating\": 5.56, \"social_media_followers\": 1262.25, \"average_response_time\": 1.28}]}}, {\"mode\": \"vega-lite\"});\n</script>\n```\n:::\n:::\n\n\n1. `O` = ordinal and defines the x-axis\n\n## We have multiple values for every time stamp\n\n::: {#b39af1d6 .cell output-location='column-fragment' execution_count=16}\n``` {.python .cell-code}\nalt.Chart(df2).mark_line().encode(\n    x=alt.X('date:O'),\n    y=alt.Y('average(annual_revenue)')  # <1>\n)\n```\n\n::: {.cell-output .cell-output-display execution_count=16}\n```{=html}\n\n<style>\n  #altair-viz-9252191dea12471fbfe1c453a8fa556b.vega-embed {\n    width: 100%;\n    display: flex;\n  }\n\n  #altair-viz-9252191dea12471fbfe1c453a8fa556b.vega-embed details,\n  #altair-viz-9252191dea12471fbfe1c453a8fa556b.vega-embed details summary {\n    position: relative;\n  }\n</style>\n<div id=\"altair-viz-9252191dea12471fbfe1c453a8fa556b\"></div>\n<script type=\"text/javascript\">\n  var VEGA_DEBUG = (typeof VEGA_DEBUG == \"undefined\") ? {} : VEGA_DEBUG;\n  (function(spec, embedOpt){\n    let outputDiv = document.currentScript.previousElementSibling;\n    if (outputDiv.id !== \"altair-viz-9252191dea12471fbfe1c453a8fa556b\") {\n      outputDiv = document.getElementById(\"altair-viz-9252191dea12471fbfe1c453a8fa556b\");\n    }\n    const paths = {\n      \"vega\": \"https://cdn.jsdelivr.net/npm/vega@5?noext\",\n      \"vega-lib\": \"https://cdn.jsdelivr.net/npm/vega-lib?noext\",\n      \"vega-lite\": \"https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext\",\n      \"vega-embed\": \"https://cdn.jsdelivr.net/npm/vega-embed@6?noext\",\n    };\n\n    function maybeLoadScript(lib, version) {\n      var key = `${lib.replace(\"-\", \"\")}_version`;\n      return (VEGA_DEBUG[key] == version) ?\n        Promise.resolve(paths[lib]) :\n        new Promise(function(resolve, reject) {\n          var s = document.createElement('script');\n          document.getElementsByTagName(\"head\")[0].appendChild(s);\n          s.async = true;\n          s.onload = () => {\n            VEGA_DEBUG[key] = version;\n            return resolve(paths[lib]);\n          };\n          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);\n          s.src = paths[lib];\n        });\n    }\n\n    function showError(err) {\n      outputDiv.innerHTML = `<div class=\"error\" style=\"color:red;\">${err}</div>`;\n      throw err;\n    }\n\n    function displayChart(vegaEmbed) {\n      vegaEmbed(outputDiv, spec, embedOpt)\n        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));\n    }\n\n    if(typeof define === \"function\" && define.amd) {\n      requirejs.config({paths});\n      require([\"vega-embed\"], displayChart, err => showError(`Error loading script: ${err.message}`));\n    } else {\n      maybeLoadScript(\"vega\", \"5\")\n        .then(() => maybeLoadScript(\"vega-lite\", \"5.8.0\"))\n        .then(() => maybeLoadScript(\"vega-embed\", \"6\"))\n        .catch(showError)\n        .then(() => displayChart(vegaEmbed));\n    }\n  })({\"config\": {\"view\": {\"continuousWidth\": 300, \"continuousHeight\": 300}}, \"data\": {\"name\": \"data-3a26c000e4862bfeb4ac3c81f7273b97\"}, \"mark\": {\"type\": \"line\"}, \"encoding\": {\"x\": {\"field\": \"date\", \"type\": \"ordinal\"}, \"y\": {\"aggregate\": \"average\", \"field\": \"annual_revenue\", \"type\": \"quantitative\"}}, \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.8.0.json\", \"datasets\": {\"data-3a26c000e4862bfeb4ac3c81f7273b97\": [{\"eshop_name\": \"E-ShopA\", \"date\": \"2020-01-31T00:00:00\", \"annual_revenue\": 13.35, \"time_on_site\": 1.09, \"average_rating\": 4.17, \"social_media_followers\": 173.76, \"average_response_time\": 2.35}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-02-29T00:00:00\", \"annual_revenue\": 10.74, \"time_on_site\": 0.56, \"average_rating\": 4.79, \"social_media_followers\": 52.69, \"average_response_time\": 2.58}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-03-31T00:00:00\", \"annual_revenue\": 11.91, \"time_on_site\": 0.57, \"average_rating\": 2.92, \"social_media_followers\": 141.79, \"average_response_time\": 1.54}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-04-30T00:00:00\", \"annual_revenue\": 16.38, \"time_on_site\": 2.44, \"average_rating\": 3.68, \"social_media_followers\": 190.57, \"average_response_time\": 1.92}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-05-31T00:00:00\", \"annual_revenue\": 6.52, \"time_on_site\": 2.07, \"average_rating\": 2.67, \"social_media_followers\": 129.49, \"average_response_time\": 1.49}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-06-30T00:00:00\", \"annual_revenue\": 15.8, \"time_on_site\": 3.79, \"average_rating\": 4.9, \"social_media_followers\": 209.08, \"average_response_time\": 2.51}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-07-31T00:00:00\", \"annual_revenue\": 20.97, \"time_on_site\": 2.29, \"average_rating\": 4.54, \"social_media_followers\": 313.68, \"average_response_time\": 2.2}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-08-31T00:00:00\", \"annual_revenue\": 9.4, \"time_on_site\": 1.67, \"average_rating\": 2.02, \"social_media_followers\": 139.71, \"average_response_time\": 0.93}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-09-30T00:00:00\", \"annual_revenue\": 10.09, \"time_on_site\": 1.67, \"average_rating\": 1.99, \"social_media_followers\": 167.66, \"average_response_time\": 0.85}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-10-31T00:00:00\", \"annual_revenue\": 25.98, \"time_on_site\": 5.17, \"average_rating\": 5.41, \"social_media_followers\": 487.31, \"average_response_time\": 2.48}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-11-30T00:00:00\", \"annual_revenue\": 18.07, \"time_on_site\": 3.33, \"average_rating\": 2.81, \"social_media_followers\": 328.19, \"average_response_time\": 1.28}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-12-31T00:00:00\", \"annual_revenue\": 36.81, \"time_on_site\": 5.99, \"average_rating\": 5.58, \"social_media_followers\": 548.23, \"average_response_time\": 2.75}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-01-31T00:00:00\", \"annual_revenue\": 33.28, \"time_on_site\": 6.63, \"average_rating\": 5.18, \"social_media_followers\": 497.46, \"average_response_time\": 2.32}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-02-28T00:00:00\", \"annual_revenue\": 14.35, \"time_on_site\": 2.24, \"average_rating\": 1.99, \"social_media_followers\": 225.24, \"average_response_time\": 0.88}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-03-31T00:00:00\", \"annual_revenue\": 32.38, \"time_on_site\": 5.78, \"average_rating\": 4.55, \"social_media_followers\": 556.54, \"average_response_time\": 1.83}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-04-30T00:00:00\", \"annual_revenue\": 34.06, \"time_on_site\": 7.61, \"average_rating\": 5.45, \"social_media_followers\": 767.84, \"average_response_time\": 2.01}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-05-31T00:00:00\", \"annual_revenue\": 37.03, \"time_on_site\": 4.61, \"average_rating\": 5.05, \"social_media_followers\": 697.06, \"average_response_time\": 1.82}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-06-30T00:00:00\", \"annual_revenue\": 22.18, \"time_on_site\": 4.22, \"average_rating\": 3.37, \"social_media_followers\": 463.57, \"average_response_time\": 1.2}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-07-31T00:00:00\", \"annual_revenue\": 36.24, \"time_on_site\": 5.63, \"average_rating\": 4.45, \"social_media_followers\": 694.09, \"average_response_time\": 1.85}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-08-31T00:00:00\", \"annual_revenue\": 20.09, \"time_on_site\": 3.34, \"average_rating\": 2.57, \"social_media_followers\": 336.78, \"average_response_time\": 0.88}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-09-30T00:00:00\", \"annual_revenue\": 28.98, \"time_on_site\": 5.27, \"average_rating\": 3.62, \"social_media_followers\": 522.46, \"average_response_time\": 1.36}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-10-31T00:00:00\", \"annual_revenue\": 41.89, \"time_on_site\": 10.34, \"average_rating\": 5.36, \"social_media_followers\": 778.12, \"average_response_time\": 1.72}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-11-30T00:00:00\", \"annual_revenue\": 57.76, \"time_on_site\": 8.62, \"average_rating\": 5.89, \"social_media_followers\": 961.73, \"average_response_time\": 2.18}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-12-31T00:00:00\", \"annual_revenue\": 18.83, \"time_on_site\": 4.14, \"average_rating\": 2.11, \"social_media_followers\": 327.24, \"average_response_time\": 0.73}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-01-31T00:00:00\", \"annual_revenue\": 53.2, \"time_on_site\": 8.08, \"average_rating\": 5.97, \"social_media_followers\": 1102.33, \"average_response_time\": 1.91}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-02-28T00:00:00\", \"annual_revenue\": 45.74, \"time_on_site\": 8.64, \"average_rating\": 5.02, \"social_media_followers\": 892.1, \"average_response_time\": 1.56}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-03-31T00:00:00\", \"annual_revenue\": 48.44, \"time_on_site\": 9.21, \"average_rating\": 5.02, \"social_media_followers\": 815.05, \"average_response_time\": 1.4}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-04-30T00:00:00\", \"annual_revenue\": 48.98, \"time_on_site\": 9.96, \"average_rating\": 4.88, \"social_media_followers\": 868.04, \"average_response_time\": 1.49}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-05-31T00:00:00\", \"annual_revenue\": 45.62, \"time_on_site\": 9.4, \"average_rating\": 4.5, \"social_media_followers\": 881.61, \"average_response_time\": 1.22}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-06-30T00:00:00\", \"annual_revenue\": 66.27, \"time_on_site\": 13.79, \"average_rating\": 6.65, \"social_media_followers\": 1323.58, \"average_response_time\": 1.56}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-07-31T00:00:00\", \"annual_revenue\": 63.04, \"time_on_site\": 10.41, \"average_rating\": 5.37, \"social_media_followers\": 1207.44, \"average_response_time\": 1.26}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-08-31T00:00:00\", \"annual_revenue\": 31.29, \"time_on_site\": 6.02, \"average_rating\": 3.16, \"social_media_followers\": 738.19, \"average_response_time\": 0.8}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-09-30T00:00:00\", \"annual_revenue\": 66.11, \"time_on_site\": 14.81, \"average_rating\": 6.34, \"social_media_followers\": 1385.38, \"average_response_time\": 1.83}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-10-31T00:00:00\", \"annual_revenue\": 27.25, \"time_on_site\": 5.59, \"average_rating\": 2.66, \"social_media_followers\": 541.14, \"average_response_time\": 0.65}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-11-30T00:00:00\", \"annual_revenue\": 61.7, \"time_on_site\": 10.31, \"average_rating\": 5.32, \"social_media_followers\": 1055.7, \"average_response_time\": 1.24}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-12-31T00:00:00\", \"annual_revenue\": 74.67, \"time_on_site\": 12.41, \"average_rating\": 6.25, \"social_media_followers\": 1417.39, \"average_response_time\": 1.44}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-01-31T00:00:00\", \"annual_revenue\": 7.29, \"time_on_site\": 0.59, \"average_rating\": 2.28, \"social_media_followers\": 94.92, \"average_response_time\": 1.28}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-02-29T00:00:00\", \"annual_revenue\": 10.38, \"time_on_site\": 0.54, \"average_rating\": 4.63, \"social_media_followers\": 50.92, \"average_response_time\": 2.5}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-03-31T00:00:00\", \"annual_revenue\": 9.49, \"time_on_site\": 0.45, \"average_rating\": 2.33, \"social_media_followers\": 113.0, \"average_response_time\": 1.23}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-04-30T00:00:00\", \"annual_revenue\": 10.21, \"time_on_site\": 1.52, \"average_rating\": 2.3, \"social_media_followers\": 118.81, \"average_response_time\": 1.19}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-05-31T00:00:00\", \"annual_revenue\": 10.48, \"time_on_site\": 3.33, \"average_rating\": 4.29, \"social_media_followers\": 208.06, \"average_response_time\": 2.39}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-06-30T00:00:00\", \"annual_revenue\": 12.52, \"time_on_site\": 3.0, \"average_rating\": 3.88, \"social_media_followers\": 165.64, \"average_response_time\": 1.99}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-07-31T00:00:00\", \"annual_revenue\": 20.23, \"time_on_site\": 2.21, \"average_rating\": 4.38, \"social_media_followers\": 302.67, \"average_response_time\": 2.13}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-08-31T00:00:00\", \"annual_revenue\": 20.03, \"time_on_site\": 3.56, \"average_rating\": 4.31, \"social_media_followers\": 297.85, \"average_response_time\": 1.99}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-09-30T00:00:00\", \"annual_revenue\": 20.65, \"time_on_site\": 3.43, \"average_rating\": 4.08, \"social_media_followers\": 343.22, \"average_response_time\": 1.73}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-10-31T00:00:00\", \"annual_revenue\": 23.25, \"time_on_site\": 4.63, \"average_rating\": 4.84, \"social_media_followers\": 435.95, \"average_response_time\": 2.22}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-11-30T00:00:00\", \"annual_revenue\": 19.02, \"time_on_site\": 3.51, \"average_rating\": 2.96, \"social_media_followers\": 345.43, \"average_response_time\": 1.35}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-12-31T00:00:00\", \"annual_revenue\": 25.65, \"time_on_site\": 4.17, \"average_rating\": 3.89, \"social_media_followers\": 382.13, \"average_response_time\": 1.92}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-01-31T00:00:00\", \"annual_revenue\": 31.11, \"time_on_site\": 6.19, \"average_rating\": 4.85, \"social_media_followers\": 465.09, \"average_response_time\": 2.17}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-02-28T00:00:00\", \"annual_revenue\": 29.82, \"time_on_site\": 4.66, \"average_rating\": 4.14, \"social_media_followers\": 468.06, \"average_response_time\": 1.82}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-03-31T00:00:00\", \"annual_revenue\": 19.91, \"time_on_site\": 3.55, \"average_rating\": 2.8, \"social_media_followers\": 342.25, \"average_response_time\": 1.13}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-04-30T00:00:00\", \"annual_revenue\": 34.53, \"time_on_site\": 7.72, \"average_rating\": 5.53, \"social_media_followers\": 778.44, \"average_response_time\": 2.04}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-05-31T00:00:00\", \"annual_revenue\": 19.22, \"time_on_site\": 2.39, \"average_rating\": 2.62, \"social_media_followers\": 361.78, \"average_response_time\": 0.95}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-06-30T00:00:00\", \"annual_revenue\": 18.94, \"time_on_site\": 3.6, \"average_rating\": 2.87, \"social_media_followers\": 395.87, \"average_response_time\": 1.03}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-07-31T00:00:00\", \"annual_revenue\": 28.1, \"time_on_site\": 4.37, \"average_rating\": 3.45, \"social_media_followers\": 538.12, \"average_response_time\": 1.44}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-08-31T00:00:00\", \"annual_revenue\": 27.93, \"time_on_site\": 4.65, \"average_rating\": 3.57, \"social_media_followers\": 468.33, \"average_response_time\": 1.22}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-09-30T00:00:00\", \"annual_revenue\": 17.15, \"time_on_site\": 3.12, \"average_rating\": 2.14, \"social_media_followers\": 309.19, \"average_response_time\": 0.8}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-10-31T00:00:00\", \"annual_revenue\": 38.4, \"time_on_site\": 9.48, \"average_rating\": 4.92, \"social_media_followers\": 713.21, \"average_response_time\": 1.57}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-11-30T00:00:00\", \"annual_revenue\": 20.59, \"time_on_site\": 3.07, \"average_rating\": 2.1, \"social_media_followers\": 342.89, \"average_response_time\": 0.78}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-12-31T00:00:00\", \"annual_revenue\": 23.07, \"time_on_site\": 5.08, \"average_rating\": 2.58, \"social_media_followers\": 401.07, \"average_response_time\": 0.89}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-01-31T00:00:00\", \"annual_revenue\": 27.05, \"time_on_site\": 4.11, \"average_rating\": 3.03, \"social_media_followers\": 560.48, \"average_response_time\": 0.97}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-02-28T00:00:00\", \"annual_revenue\": 34.88, \"time_on_site\": 6.59, \"average_rating\": 3.83, \"social_media_followers\": 680.28, \"average_response_time\": 1.19}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-03-31T00:00:00\", \"annual_revenue\": 30.02, \"time_on_site\": 5.71, \"average_rating\": 3.11, \"social_media_followers\": 505.16, \"average_response_time\": 0.87}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-04-30T00:00:00\", \"annual_revenue\": 49.08, \"time_on_site\": 9.98, \"average_rating\": 4.89, \"social_media_followers\": 869.97, \"average_response_time\": 1.49}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-05-31T00:00:00\", \"annual_revenue\": 25.02, \"time_on_site\": 5.16, \"average_rating\": 2.47, \"social_media_followers\": 483.57, \"average_response_time\": 0.67}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-06-30T00:00:00\", \"annual_revenue\": 58.14, \"time_on_site\": 12.1, \"average_rating\": 5.83, \"social_media_followers\": 1161.17, \"average_response_time\": 1.37}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-07-31T00:00:00\", \"annual_revenue\": 47.16, \"time_on_site\": 7.78, \"average_rating\": 4.02, \"social_media_followers\": 903.2, \"average_response_time\": 0.94}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-08-31T00:00:00\", \"annual_revenue\": 59.03, \"time_on_site\": 11.36, \"average_rating\": 5.95, \"social_media_followers\": 1392.46, \"average_response_time\": 1.51}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-09-30T00:00:00\", \"annual_revenue\": 57.93, \"time_on_site\": 12.98, \"average_rating\": 5.56, \"social_media_followers\": 1213.84, \"average_response_time\": 1.6}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-10-31T00:00:00\", \"annual_revenue\": 31.13, \"time_on_site\": 6.39, \"average_rating\": 3.04, \"social_media_followers\": 618.3, \"average_response_time\": 0.74}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-11-30T00:00:00\", \"annual_revenue\": 70.84, \"time_on_site\": 11.83, \"average_rating\": 6.11, \"social_media_followers\": 1212.05, \"average_response_time\": 1.42}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-12-31T00:00:00\", \"annual_revenue\": 63.77, \"time_on_site\": 10.59, \"average_rating\": 5.33, \"social_media_followers\": 1210.45, \"average_response_time\": 1.23}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-01-31T00:00:00\", \"annual_revenue\": 7.8, \"time_on_site\": 0.64, \"average_rating\": 2.44, \"social_media_followers\": 101.48, \"average_response_time\": 1.37}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-02-29T00:00:00\", \"annual_revenue\": 10.17, \"time_on_site\": 0.53, \"average_rating\": 4.54, \"social_media_followers\": 49.89, \"average_response_time\": 2.45}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-03-31T00:00:00\", \"annual_revenue\": 21.13, \"time_on_site\": 1.0, \"average_rating\": 5.19, \"social_media_followers\": 251.58, \"average_response_time\": 2.73}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-04-30T00:00:00\", \"annual_revenue\": 21.77, \"time_on_site\": 3.24, \"average_rating\": 4.9, \"social_media_followers\": 253.29, \"average_response_time\": 2.55}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-05-31T00:00:00\", \"annual_revenue\": 8.46, \"time_on_site\": 2.69, \"average_rating\": 3.47, \"social_media_followers\": 168.01, \"average_response_time\": 1.93}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-06-30T00:00:00\", \"annual_revenue\": 17.21, \"time_on_site\": 4.12, \"average_rating\": 5.33, \"social_media_followers\": 227.75, \"average_response_time\": 2.73}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-07-31T00:00:00\", \"annual_revenue\": 24.99, \"time_on_site\": 2.73, \"average_rating\": 5.41, \"social_media_followers\": 373.88, \"average_response_time\": 2.63}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-08-31T00:00:00\", \"annual_revenue\": 25.1, \"time_on_site\": 4.46, \"average_rating\": 5.4, \"social_media_followers\": 373.21, \"average_response_time\": 2.5}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-09-30T00:00:00\", \"annual_revenue\": 20.67, \"time_on_site\": 3.43, \"average_rating\": 4.09, \"social_media_followers\": 343.61, \"average_response_time\": 1.74}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-10-31T00:00:00\", \"annual_revenue\": 15.02, \"time_on_site\": 2.99, \"average_rating\": 3.13, \"social_media_followers\": 281.72, \"average_response_time\": 1.44}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-11-30T00:00:00\", \"annual_revenue\": 12.32, \"time_on_site\": 2.27, \"average_rating\": 1.92, \"social_media_followers\": 223.82, \"average_response_time\": 0.87}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-12-31T00:00:00\", \"annual_revenue\": 16.27, \"time_on_site\": 2.65, \"average_rating\": 2.47, \"social_media_followers\": 242.29, \"average_response_time\": 1.22}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-01-31T00:00:00\", \"annual_revenue\": 24.35, \"time_on_site\": 4.85, \"average_rating\": 3.79, \"social_media_followers\": 364.03, \"average_response_time\": 1.7}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-02-28T00:00:00\", \"annual_revenue\": 14.82, \"time_on_site\": 2.31, \"average_rating\": 2.06, \"social_media_followers\": 232.54, \"average_response_time\": 0.91}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-03-31T00:00:00\", \"annual_revenue\": 18.86, \"time_on_site\": 3.37, \"average_rating\": 2.65, \"social_media_followers\": 324.17, \"average_response_time\": 1.07}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-04-30T00:00:00\", \"annual_revenue\": 28.54, \"time_on_site\": 6.38, \"average_rating\": 4.57, \"social_media_followers\": 643.32, \"average_response_time\": 1.69}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-05-31T00:00:00\", \"annual_revenue\": 27.21, \"time_on_site\": 3.39, \"average_rating\": 3.71, \"social_media_followers\": 512.22, \"average_response_time\": 1.34}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-06-30T00:00:00\", \"annual_revenue\": 27.9, \"time_on_site\": 5.31, \"average_rating\": 4.24, \"social_media_followers\": 583.31, \"average_response_time\": 1.52}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-07-31T00:00:00\", \"annual_revenue\": 23.72, \"time_on_site\": 3.69, \"average_rating\": 2.91, \"social_media_followers\": 454.31, \"average_response_time\": 1.21}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-08-31T00:00:00\", \"annual_revenue\": 16.58, \"time_on_site\": 2.76, \"average_rating\": 2.12, \"social_media_followers\": 278.01, \"average_response_time\": 0.72}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-09-30T00:00:00\", \"annual_revenue\": 47.0, \"time_on_site\": 8.54, \"average_rating\": 5.86, \"social_media_followers\": 847.25, \"average_response_time\": 2.2}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-10-31T00:00:00\", \"annual_revenue\": 44.3, \"time_on_site\": 10.94, \"average_rating\": 5.67, \"social_media_followers\": 822.93, \"average_response_time\": 1.82}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-11-30T00:00:00\", \"annual_revenue\": 49.79, \"time_on_site\": 7.43, \"average_rating\": 5.08, \"social_media_followers\": 829.0, \"average_response_time\": 1.88}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-12-31T00:00:00\", \"annual_revenue\": 40.87, \"time_on_site\": 8.99, \"average_rating\": 4.58, \"social_media_followers\": 710.44, \"average_response_time\": 1.58}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-01-31T00:00:00\", \"annual_revenue\": 53.32, \"time_on_site\": 8.1, \"average_rating\": 5.98, \"social_media_followers\": 1104.95, \"average_response_time\": 1.92}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-02-28T00:00:00\", \"annual_revenue\": 29.99, \"time_on_site\": 5.67, \"average_rating\": 3.29, \"social_media_followers\": 584.84, \"average_response_time\": 1.02}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-03-31T00:00:00\", \"annual_revenue\": 21.0, \"time_on_site\": 3.99, \"average_rating\": 2.18, \"social_media_followers\": 353.32, \"average_response_time\": 0.61}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-04-30T00:00:00\", \"annual_revenue\": 56.89, \"time_on_site\": 11.57, \"average_rating\": 5.67, \"social_media_followers\": 1008.37, \"average_response_time\": 1.73}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-05-31T00:00:00\", \"annual_revenue\": 44.04, \"time_on_site\": 9.08, \"average_rating\": 4.34, \"social_media_followers\": 851.22, \"average_response_time\": 1.18}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-06-30T00:00:00\", \"annual_revenue\": 53.14, \"time_on_site\": 11.06, \"average_rating\": 5.33, \"social_media_followers\": 1061.45, \"average_response_time\": 1.25}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-07-31T00:00:00\", \"annual_revenue\": 32.56, \"time_on_site\": 5.37, \"average_rating\": 2.78, \"social_media_followers\": 623.72, \"average_response_time\": 0.65}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-08-31T00:00:00\", \"annual_revenue\": 64.83, \"time_on_site\": 12.48, \"average_rating\": 6.54, \"social_media_followers\": 1529.19, \"average_response_time\": 1.66}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-09-30T00:00:00\", \"annual_revenue\": 31.7, \"time_on_site\": 7.1, \"average_rating\": 3.04, \"social_media_followers\": 664.3, \"average_response_time\": 0.88}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-10-31T00:00:00\", \"annual_revenue\": 27.09, \"time_on_site\": 5.56, \"average_rating\": 2.65, \"social_media_followers\": 538.03, \"average_response_time\": 0.64}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-11-30T00:00:00\", \"annual_revenue\": 56.59, \"time_on_site\": 9.45, \"average_rating\": 4.88, \"social_media_followers\": 968.37, \"average_response_time\": 1.13}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-12-31T00:00:00\", \"annual_revenue\": 66.5, \"time_on_site\": 11.05, \"average_rating\": 5.56, \"social_media_followers\": 1262.25, \"average_response_time\": 1.28}]}}, {\"mode\": \"vega-lite\"});\n</script>\n```\n:::\n:::\n\n\n1. We need to calculate the average\n\n\n## We could also show the different shops\n\n::: {#b53c5cc6 .cell output-location='column-fragment' execution_count=17}\n``` {.python .cell-code}\nalt.Chart(df2).mark_line().encode(\n    x=alt.X('date:O'),\n    y=alt.Y('average(annual_revenue)'),\n    color=alt.Color('eshop_name')  # <1>\n)\n```\n\n::: {.cell-output .cell-output-display execution_count=17}\n```{=html}\n\n<style>\n  #altair-viz-63654de8942d4c7b87dab60d92d7df2c.vega-embed {\n    width: 100%;\n    display: flex;\n  }\n\n  #altair-viz-63654de8942d4c7b87dab60d92d7df2c.vega-embed details,\n  #altair-viz-63654de8942d4c7b87dab60d92d7df2c.vega-embed details summary {\n    position: relative;\n  }\n</style>\n<div id=\"altair-viz-63654de8942d4c7b87dab60d92d7df2c\"></div>\n<script type=\"text/javascript\">\n  var VEGA_DEBUG = (typeof VEGA_DEBUG == \"undefined\") ? {} : VEGA_DEBUG;\n  (function(spec, embedOpt){\n    let outputDiv = document.currentScript.previousElementSibling;\n    if (outputDiv.id !== \"altair-viz-63654de8942d4c7b87dab60d92d7df2c\") {\n      outputDiv = document.getElementById(\"altair-viz-63654de8942d4c7b87dab60d92d7df2c\");\n    }\n    const paths = {\n      \"vega\": \"https://cdn.jsdelivr.net/npm/vega@5?noext\",\n      \"vega-lib\": \"https://cdn.jsdelivr.net/npm/vega-lib?noext\",\n      \"vega-lite\": \"https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext\",\n      \"vega-embed\": \"https://cdn.jsdelivr.net/npm/vega-embed@6?noext\",\n    };\n\n    function maybeLoadScript(lib, version) {\n      var key = `${lib.replace(\"-\", \"\")}_version`;\n      return (VEGA_DEBUG[key] == version) ?\n        Promise.resolve(paths[lib]) :\n        new Promise(function(resolve, reject) {\n          var s = document.createElement('script');\n          document.getElementsByTagName(\"head\")[0].appendChild(s);\n          s.async = true;\n          s.onload = () => {\n            VEGA_DEBUG[key] = version;\n            return resolve(paths[lib]);\n          };\n          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);\n          s.src = paths[lib];\n        });\n    }\n\n    function showError(err) {\n      outputDiv.innerHTML = `<div class=\"error\" style=\"color:red;\">${err}</div>`;\n      throw err;\n    }\n\n    function displayChart(vegaEmbed) {\n      vegaEmbed(outputDiv, spec, embedOpt)\n        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));\n    }\n\n    if(typeof define === \"function\" && define.amd) {\n      requirejs.config({paths});\n      require([\"vega-embed\"], displayChart, err => showError(`Error loading script: ${err.message}`));\n    } else {\n      maybeLoadScript(\"vega\", \"5\")\n        .then(() => maybeLoadScript(\"vega-lite\", \"5.8.0\"))\n        .then(() => maybeLoadScript(\"vega-embed\", \"6\"))\n        .catch(showError)\n        .then(() => displayChart(vegaEmbed));\n    }\n  })({\"config\": {\"view\": {\"continuousWidth\": 300, \"continuousHeight\": 300}}, \"data\": {\"name\": \"data-3a26c000e4862bfeb4ac3c81f7273b97\"}, \"mark\": {\"type\": \"line\"}, \"encoding\": {\"color\": {\"field\": \"eshop_name\", \"type\": \"nominal\"}, \"x\": {\"field\": \"date\", \"type\": \"ordinal\"}, \"y\": {\"aggregate\": \"average\", \"field\": \"annual_revenue\", \"type\": \"quantitative\"}}, \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.8.0.json\", \"datasets\": {\"data-3a26c000e4862bfeb4ac3c81f7273b97\": [{\"eshop_name\": \"E-ShopA\", \"date\": \"2020-01-31T00:00:00\", \"annual_revenue\": 13.35, \"time_on_site\": 1.09, \"average_rating\": 4.17, \"social_media_followers\": 173.76, \"average_response_time\": 2.35}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-02-29T00:00:00\", \"annual_revenue\": 10.74, \"time_on_site\": 0.56, \"average_rating\": 4.79, \"social_media_followers\": 52.69, \"average_response_time\": 2.58}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-03-31T00:00:00\", \"annual_revenue\": 11.91, \"time_on_site\": 0.57, \"average_rating\": 2.92, \"social_media_followers\": 141.79, \"average_response_time\": 1.54}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-04-30T00:00:00\", \"annual_revenue\": 16.38, \"time_on_site\": 2.44, \"average_rating\": 3.68, \"social_media_followers\": 190.57, \"average_response_time\": 1.92}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-05-31T00:00:00\", \"annual_revenue\": 6.52, \"time_on_site\": 2.07, \"average_rating\": 2.67, \"social_media_followers\": 129.49, \"average_response_time\": 1.49}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-06-30T00:00:00\", \"annual_revenue\": 15.8, \"time_on_site\": 3.79, \"average_rating\": 4.9, \"social_media_followers\": 209.08, \"average_response_time\": 2.51}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-07-31T00:00:00\", \"annual_revenue\": 20.97, \"time_on_site\": 2.29, \"average_rating\": 4.54, \"social_media_followers\": 313.68, \"average_response_time\": 2.2}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-08-31T00:00:00\", \"annual_revenue\": 9.4, \"time_on_site\": 1.67, \"average_rating\": 2.02, \"social_media_followers\": 139.71, \"average_response_time\": 0.93}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-09-30T00:00:00\", \"annual_revenue\": 10.09, \"time_on_site\": 1.67, \"average_rating\": 1.99, \"social_media_followers\": 167.66, \"average_response_time\": 0.85}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-10-31T00:00:00\", \"annual_revenue\": 25.98, \"time_on_site\": 5.17, \"average_rating\": 5.41, \"social_media_followers\": 487.31, \"average_response_time\": 2.48}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-11-30T00:00:00\", \"annual_revenue\": 18.07, \"time_on_site\": 3.33, \"average_rating\": 2.81, \"social_media_followers\": 328.19, \"average_response_time\": 1.28}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-12-31T00:00:00\", \"annual_revenue\": 36.81, \"time_on_site\": 5.99, \"average_rating\": 5.58, \"social_media_followers\": 548.23, \"average_response_time\": 2.75}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-01-31T00:00:00\", \"annual_revenue\": 33.28, \"time_on_site\": 6.63, \"average_rating\": 5.18, \"social_media_followers\": 497.46, \"average_response_time\": 2.32}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-02-28T00:00:00\", \"annual_revenue\": 14.35, \"time_on_site\": 2.24, \"average_rating\": 1.99, \"social_media_followers\": 225.24, \"average_response_time\": 0.88}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-03-31T00:00:00\", \"annual_revenue\": 32.38, \"time_on_site\": 5.78, \"average_rating\": 4.55, \"social_media_followers\": 556.54, \"average_response_time\": 1.83}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-04-30T00:00:00\", \"annual_revenue\": 34.06, \"time_on_site\": 7.61, \"average_rating\": 5.45, \"social_media_followers\": 767.84, \"average_response_time\": 2.01}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-05-31T00:00:00\", \"annual_revenue\": 37.03, \"time_on_site\": 4.61, \"average_rating\": 5.05, \"social_media_followers\": 697.06, \"average_response_time\": 1.82}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-06-30T00:00:00\", \"annual_revenue\": 22.18, \"time_on_site\": 4.22, \"average_rating\": 3.37, \"social_media_followers\": 463.57, \"average_response_time\": 1.2}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-07-31T00:00:00\", \"annual_revenue\": 36.24, \"time_on_site\": 5.63, \"average_rating\": 4.45, \"social_media_followers\": 694.09, \"average_response_time\": 1.85}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-08-31T00:00:00\", \"annual_revenue\": 20.09, \"time_on_site\": 3.34, \"average_rating\": 2.57, \"social_media_followers\": 336.78, \"average_response_time\": 0.88}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-09-30T00:00:00\", \"annual_revenue\": 28.98, \"time_on_site\": 5.27, \"average_rating\": 3.62, \"social_media_followers\": 522.46, \"average_response_time\": 1.36}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-10-31T00:00:00\", \"annual_revenue\": 41.89, \"time_on_site\": 10.34, \"average_rating\": 5.36, \"social_media_followers\": 778.12, \"average_response_time\": 1.72}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-11-30T00:00:00\", \"annual_revenue\": 57.76, \"time_on_site\": 8.62, \"average_rating\": 5.89, \"social_media_followers\": 961.73, \"average_response_time\": 2.18}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-12-31T00:00:00\", \"annual_revenue\": 18.83, \"time_on_site\": 4.14, \"average_rating\": 2.11, \"social_media_followers\": 327.24, \"average_response_time\": 0.73}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-01-31T00:00:00\", \"annual_revenue\": 53.2, \"time_on_site\": 8.08, \"average_rating\": 5.97, \"social_media_followers\": 1102.33, \"average_response_time\": 1.91}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-02-28T00:00:00\", \"annual_revenue\": 45.74, \"time_on_site\": 8.64, \"average_rating\": 5.02, \"social_media_followers\": 892.1, \"average_response_time\": 1.56}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-03-31T00:00:00\", \"annual_revenue\": 48.44, \"time_on_site\": 9.21, \"average_rating\": 5.02, \"social_media_followers\": 815.05, \"average_response_time\": 1.4}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-04-30T00:00:00\", \"annual_revenue\": 48.98, \"time_on_site\": 9.96, \"average_rating\": 4.88, \"social_media_followers\": 868.04, \"average_response_time\": 1.49}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-05-31T00:00:00\", \"annual_revenue\": 45.62, \"time_on_site\": 9.4, \"average_rating\": 4.5, \"social_media_followers\": 881.61, \"average_response_time\": 1.22}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-06-30T00:00:00\", \"annual_revenue\": 66.27, \"time_on_site\": 13.79, \"average_rating\": 6.65, \"social_media_followers\": 1323.58, \"average_response_time\": 1.56}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-07-31T00:00:00\", \"annual_revenue\": 63.04, \"time_on_site\": 10.41, \"average_rating\": 5.37, \"social_media_followers\": 1207.44, \"average_response_time\": 1.26}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-08-31T00:00:00\", \"annual_revenue\": 31.29, \"time_on_site\": 6.02, \"average_rating\": 3.16, \"social_media_followers\": 738.19, \"average_response_time\": 0.8}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-09-30T00:00:00\", \"annual_revenue\": 66.11, \"time_on_site\": 14.81, \"average_rating\": 6.34, \"social_media_followers\": 1385.38, \"average_response_time\": 1.83}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-10-31T00:00:00\", \"annual_revenue\": 27.25, \"time_on_site\": 5.59, \"average_rating\": 2.66, \"social_media_followers\": 541.14, \"average_response_time\": 0.65}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-11-30T00:00:00\", \"annual_revenue\": 61.7, \"time_on_site\": 10.31, \"average_rating\": 5.32, \"social_media_followers\": 1055.7, \"average_response_time\": 1.24}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-12-31T00:00:00\", \"annual_revenue\": 74.67, \"time_on_site\": 12.41, \"average_rating\": 6.25, \"social_media_followers\": 1417.39, \"average_response_time\": 1.44}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-01-31T00:00:00\", \"annual_revenue\": 7.29, \"time_on_site\": 0.59, \"average_rating\": 2.28, \"social_media_followers\": 94.92, \"average_response_time\": 1.28}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-02-29T00:00:00\", \"annual_revenue\": 10.38, \"time_on_site\": 0.54, \"average_rating\": 4.63, \"social_media_followers\": 50.92, \"average_response_time\": 2.5}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-03-31T00:00:00\", \"annual_revenue\": 9.49, \"time_on_site\": 0.45, \"average_rating\": 2.33, \"social_media_followers\": 113.0, \"average_response_time\": 1.23}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-04-30T00:00:00\", \"annual_revenue\": 10.21, \"time_on_site\": 1.52, \"average_rating\": 2.3, \"social_media_followers\": 118.81, \"average_response_time\": 1.19}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-05-31T00:00:00\", \"annual_revenue\": 10.48, \"time_on_site\": 3.33, \"average_rating\": 4.29, \"social_media_followers\": 208.06, \"average_response_time\": 2.39}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-06-30T00:00:00\", \"annual_revenue\": 12.52, \"time_on_site\": 3.0, \"average_rating\": 3.88, \"social_media_followers\": 165.64, \"average_response_time\": 1.99}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-07-31T00:00:00\", \"annual_revenue\": 20.23, \"time_on_site\": 2.21, \"average_rating\": 4.38, \"social_media_followers\": 302.67, \"average_response_time\": 2.13}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-08-31T00:00:00\", \"annual_revenue\": 20.03, \"time_on_site\": 3.56, \"average_rating\": 4.31, \"social_media_followers\": 297.85, \"average_response_time\": 1.99}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-09-30T00:00:00\", \"annual_revenue\": 20.65, \"time_on_site\": 3.43, \"average_rating\": 4.08, \"social_media_followers\": 343.22, \"average_response_time\": 1.73}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-10-31T00:00:00\", \"annual_revenue\": 23.25, \"time_on_site\": 4.63, \"average_rating\": 4.84, \"social_media_followers\": 435.95, \"average_response_time\": 2.22}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-11-30T00:00:00\", \"annual_revenue\": 19.02, \"time_on_site\": 3.51, \"average_rating\": 2.96, \"social_media_followers\": 345.43, \"average_response_time\": 1.35}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-12-31T00:00:00\", \"annual_revenue\": 25.65, \"time_on_site\": 4.17, \"average_rating\": 3.89, \"social_media_followers\": 382.13, \"average_response_time\": 1.92}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-01-31T00:00:00\", \"annual_revenue\": 31.11, \"time_on_site\": 6.19, \"average_rating\": 4.85, \"social_media_followers\": 465.09, \"average_response_time\": 2.17}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-02-28T00:00:00\", \"annual_revenue\": 29.82, \"time_on_site\": 4.66, \"average_rating\": 4.14, \"social_media_followers\": 468.06, \"average_response_time\": 1.82}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-03-31T00:00:00\", \"annual_revenue\": 19.91, \"time_on_site\": 3.55, \"average_rating\": 2.8, \"social_media_followers\": 342.25, \"average_response_time\": 1.13}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-04-30T00:00:00\", \"annual_revenue\": 34.53, \"time_on_site\": 7.72, \"average_rating\": 5.53, \"social_media_followers\": 778.44, \"average_response_time\": 2.04}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-05-31T00:00:00\", \"annual_revenue\": 19.22, \"time_on_site\": 2.39, \"average_rating\": 2.62, \"social_media_followers\": 361.78, \"average_response_time\": 0.95}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-06-30T00:00:00\", \"annual_revenue\": 18.94, \"time_on_site\": 3.6, \"average_rating\": 2.87, \"social_media_followers\": 395.87, \"average_response_time\": 1.03}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-07-31T00:00:00\", \"annual_revenue\": 28.1, \"time_on_site\": 4.37, \"average_rating\": 3.45, \"social_media_followers\": 538.12, \"average_response_time\": 1.44}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-08-31T00:00:00\", \"annual_revenue\": 27.93, \"time_on_site\": 4.65, \"average_rating\": 3.57, \"social_media_followers\": 468.33, \"average_response_time\": 1.22}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-09-30T00:00:00\", \"annual_revenue\": 17.15, \"time_on_site\": 3.12, \"average_rating\": 2.14, \"social_media_followers\": 309.19, \"average_response_time\": 0.8}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-10-31T00:00:00\", \"annual_revenue\": 38.4, \"time_on_site\": 9.48, \"average_rating\": 4.92, \"social_media_followers\": 713.21, \"average_response_time\": 1.57}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-11-30T00:00:00\", \"annual_revenue\": 20.59, \"time_on_site\": 3.07, \"average_rating\": 2.1, \"social_media_followers\": 342.89, \"average_response_time\": 0.78}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-12-31T00:00:00\", \"annual_revenue\": 23.07, \"time_on_site\": 5.08, \"average_rating\": 2.58, \"social_media_followers\": 401.07, \"average_response_time\": 0.89}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-01-31T00:00:00\", \"annual_revenue\": 27.05, \"time_on_site\": 4.11, \"average_rating\": 3.03, \"social_media_followers\": 560.48, \"average_response_time\": 0.97}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-02-28T00:00:00\", \"annual_revenue\": 34.88, \"time_on_site\": 6.59, \"average_rating\": 3.83, \"social_media_followers\": 680.28, \"average_response_time\": 1.19}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-03-31T00:00:00\", \"annual_revenue\": 30.02, \"time_on_site\": 5.71, \"average_rating\": 3.11, \"social_media_followers\": 505.16, \"average_response_time\": 0.87}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-04-30T00:00:00\", \"annual_revenue\": 49.08, \"time_on_site\": 9.98, \"average_rating\": 4.89, \"social_media_followers\": 869.97, \"average_response_time\": 1.49}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-05-31T00:00:00\", \"annual_revenue\": 25.02, \"time_on_site\": 5.16, \"average_rating\": 2.47, \"social_media_followers\": 483.57, \"average_response_time\": 0.67}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-06-30T00:00:00\", \"annual_revenue\": 58.14, \"time_on_site\": 12.1, \"average_rating\": 5.83, \"social_media_followers\": 1161.17, \"average_response_time\": 1.37}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-07-31T00:00:00\", \"annual_revenue\": 47.16, \"time_on_site\": 7.78, \"average_rating\": 4.02, \"social_media_followers\": 903.2, \"average_response_time\": 0.94}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-08-31T00:00:00\", \"annual_revenue\": 59.03, \"time_on_site\": 11.36, \"average_rating\": 5.95, \"social_media_followers\": 1392.46, \"average_response_time\": 1.51}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-09-30T00:00:00\", \"annual_revenue\": 57.93, \"time_on_site\": 12.98, \"average_rating\": 5.56, \"social_media_followers\": 1213.84, \"average_response_time\": 1.6}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-10-31T00:00:00\", \"annual_revenue\": 31.13, \"time_on_site\": 6.39, \"average_rating\": 3.04, \"social_media_followers\": 618.3, \"average_response_time\": 0.74}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-11-30T00:00:00\", \"annual_revenue\": 70.84, \"time_on_site\": 11.83, \"average_rating\": 6.11, \"social_media_followers\": 1212.05, \"average_response_time\": 1.42}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-12-31T00:00:00\", \"annual_revenue\": 63.77, \"time_on_site\": 10.59, \"average_rating\": 5.33, \"social_media_followers\": 1210.45, \"average_response_time\": 1.23}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-01-31T00:00:00\", \"annual_revenue\": 7.8, \"time_on_site\": 0.64, \"average_rating\": 2.44, \"social_media_followers\": 101.48, \"average_response_time\": 1.37}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-02-29T00:00:00\", \"annual_revenue\": 10.17, \"time_on_site\": 0.53, \"average_rating\": 4.54, \"social_media_followers\": 49.89, \"average_response_time\": 2.45}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-03-31T00:00:00\", \"annual_revenue\": 21.13, \"time_on_site\": 1.0, \"average_rating\": 5.19, \"social_media_followers\": 251.58, \"average_response_time\": 2.73}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-04-30T00:00:00\", \"annual_revenue\": 21.77, \"time_on_site\": 3.24, \"average_rating\": 4.9, \"social_media_followers\": 253.29, \"average_response_time\": 2.55}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-05-31T00:00:00\", \"annual_revenue\": 8.46, \"time_on_site\": 2.69, \"average_rating\": 3.47, \"social_media_followers\": 168.01, \"average_response_time\": 1.93}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-06-30T00:00:00\", \"annual_revenue\": 17.21, \"time_on_site\": 4.12, \"average_rating\": 5.33, \"social_media_followers\": 227.75, \"average_response_time\": 2.73}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-07-31T00:00:00\", \"annual_revenue\": 24.99, \"time_on_site\": 2.73, \"average_rating\": 5.41, \"social_media_followers\": 373.88, \"average_response_time\": 2.63}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-08-31T00:00:00\", \"annual_revenue\": 25.1, \"time_on_site\": 4.46, \"average_rating\": 5.4, \"social_media_followers\": 373.21, \"average_response_time\": 2.5}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-09-30T00:00:00\", \"annual_revenue\": 20.67, \"time_on_site\": 3.43, \"average_rating\": 4.09, \"social_media_followers\": 343.61, \"average_response_time\": 1.74}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-10-31T00:00:00\", \"annual_revenue\": 15.02, \"time_on_site\": 2.99, \"average_rating\": 3.13, \"social_media_followers\": 281.72, \"average_response_time\": 1.44}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-11-30T00:00:00\", \"annual_revenue\": 12.32, \"time_on_site\": 2.27, \"average_rating\": 1.92, \"social_media_followers\": 223.82, \"average_response_time\": 0.87}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-12-31T00:00:00\", \"annual_revenue\": 16.27, \"time_on_site\": 2.65, \"average_rating\": 2.47, \"social_media_followers\": 242.29, \"average_response_time\": 1.22}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-01-31T00:00:00\", \"annual_revenue\": 24.35, \"time_on_site\": 4.85, \"average_rating\": 3.79, \"social_media_followers\": 364.03, \"average_response_time\": 1.7}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-02-28T00:00:00\", \"annual_revenue\": 14.82, \"time_on_site\": 2.31, \"average_rating\": 2.06, \"social_media_followers\": 232.54, \"average_response_time\": 0.91}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-03-31T00:00:00\", \"annual_revenue\": 18.86, \"time_on_site\": 3.37, \"average_rating\": 2.65, \"social_media_followers\": 324.17, \"average_response_time\": 1.07}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-04-30T00:00:00\", \"annual_revenue\": 28.54, \"time_on_site\": 6.38, \"average_rating\": 4.57, \"social_media_followers\": 643.32, \"average_response_time\": 1.69}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-05-31T00:00:00\", \"annual_revenue\": 27.21, \"time_on_site\": 3.39, \"average_rating\": 3.71, \"social_media_followers\": 512.22, \"average_response_time\": 1.34}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-06-30T00:00:00\", \"annual_revenue\": 27.9, \"time_on_site\": 5.31, \"average_rating\": 4.24, \"social_media_followers\": 583.31, \"average_response_time\": 1.52}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-07-31T00:00:00\", \"annual_revenue\": 23.72, \"time_on_site\": 3.69, \"average_rating\": 2.91, \"social_media_followers\": 454.31, \"average_response_time\": 1.21}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-08-31T00:00:00\", \"annual_revenue\": 16.58, \"time_on_site\": 2.76, \"average_rating\": 2.12, \"social_media_followers\": 278.01, \"average_response_time\": 0.72}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-09-30T00:00:00\", \"annual_revenue\": 47.0, \"time_on_site\": 8.54, \"average_rating\": 5.86, \"social_media_followers\": 847.25, \"average_response_time\": 2.2}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-10-31T00:00:00\", \"annual_revenue\": 44.3, \"time_on_site\": 10.94, \"average_rating\": 5.67, \"social_media_followers\": 822.93, \"average_response_time\": 1.82}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-11-30T00:00:00\", \"annual_revenue\": 49.79, \"time_on_site\": 7.43, \"average_rating\": 5.08, \"social_media_followers\": 829.0, \"average_response_time\": 1.88}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-12-31T00:00:00\", \"annual_revenue\": 40.87, \"time_on_site\": 8.99, \"average_rating\": 4.58, \"social_media_followers\": 710.44, \"average_response_time\": 1.58}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-01-31T00:00:00\", \"annual_revenue\": 53.32, \"time_on_site\": 8.1, \"average_rating\": 5.98, \"social_media_followers\": 1104.95, \"average_response_time\": 1.92}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-02-28T00:00:00\", \"annual_revenue\": 29.99, \"time_on_site\": 5.67, \"average_rating\": 3.29, \"social_media_followers\": 584.84, \"average_response_time\": 1.02}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-03-31T00:00:00\", \"annual_revenue\": 21.0, \"time_on_site\": 3.99, \"average_rating\": 2.18, \"social_media_followers\": 353.32, \"average_response_time\": 0.61}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-04-30T00:00:00\", \"annual_revenue\": 56.89, \"time_on_site\": 11.57, \"average_rating\": 5.67, \"social_media_followers\": 1008.37, \"average_response_time\": 1.73}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-05-31T00:00:00\", \"annual_revenue\": 44.04, \"time_on_site\": 9.08, \"average_rating\": 4.34, \"social_media_followers\": 851.22, \"average_response_time\": 1.18}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-06-30T00:00:00\", \"annual_revenue\": 53.14, \"time_on_site\": 11.06, \"average_rating\": 5.33, \"social_media_followers\": 1061.45, \"average_response_time\": 1.25}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-07-31T00:00:00\", \"annual_revenue\": 32.56, \"time_on_site\": 5.37, \"average_rating\": 2.78, \"social_media_followers\": 623.72, \"average_response_time\": 0.65}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-08-31T00:00:00\", \"annual_revenue\": 64.83, \"time_on_site\": 12.48, \"average_rating\": 6.54, \"social_media_followers\": 1529.19, \"average_response_time\": 1.66}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-09-30T00:00:00\", \"annual_revenue\": 31.7, \"time_on_site\": 7.1, \"average_rating\": 3.04, \"social_media_followers\": 664.3, \"average_response_time\": 0.88}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-10-31T00:00:00\", \"annual_revenue\": 27.09, \"time_on_site\": 5.56, \"average_rating\": 2.65, \"social_media_followers\": 538.03, \"average_response_time\": 0.64}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-11-30T00:00:00\", \"annual_revenue\": 56.59, \"time_on_site\": 9.45, \"average_rating\": 4.88, \"social_media_followers\": 968.37, \"average_response_time\": 1.13}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-12-31T00:00:00\", \"annual_revenue\": 66.5, \"time_on_site\": 11.05, \"average_rating\": 5.56, \"social_media_followers\": 1262.25, \"average_response_time\": 1.28}]}}, {\"mode\": \"vega-lite\"});\n</script>\n```\n:::\n:::\n\n\n1. We use `color` to show the different shops\n\n## Make the X-Axis look nicer\n\n::: {#180f16b6 .cell output-location='column-fragment' execution_count=18}\n``` {.python .cell-code}\nalt.Chart(df2).mark_line().encode(\n    x=alt.X('date:T').axis(\n        labelAngle=90,\n        format=\"%m/%y\"),\n    y=alt.Y('average(annual_revenue)')\n)\n```\n\n::: {.cell-output .cell-output-display execution_count=18}\n```{=html}\n\n<style>\n  #altair-viz-d849fd6f57fb4537a3f0a06024c2ad1a.vega-embed {\n    width: 100%;\n    display: flex;\n  }\n\n  #altair-viz-d849fd6f57fb4537a3f0a06024c2ad1a.vega-embed details,\n  #altair-viz-d849fd6f57fb4537a3f0a06024c2ad1a.vega-embed details summary {\n    position: relative;\n  }\n</style>\n<div id=\"altair-viz-d849fd6f57fb4537a3f0a06024c2ad1a\"></div>\n<script type=\"text/javascript\">\n  var VEGA_DEBUG = (typeof VEGA_DEBUG == \"undefined\") ? {} : VEGA_DEBUG;\n  (function(spec, embedOpt){\n    let outputDiv = document.currentScript.previousElementSibling;\n    if (outputDiv.id !== \"altair-viz-d849fd6f57fb4537a3f0a06024c2ad1a\") {\n      outputDiv = document.getElementById(\"altair-viz-d849fd6f57fb4537a3f0a06024c2ad1a\");\n    }\n    const paths = {\n      \"vega\": \"https://cdn.jsdelivr.net/npm/vega@5?noext\",\n      \"vega-lib\": \"https://cdn.jsdelivr.net/npm/vega-lib?noext\",\n      \"vega-lite\": \"https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext\",\n      \"vega-embed\": \"https://cdn.jsdelivr.net/npm/vega-embed@6?noext\",\n    };\n\n    function maybeLoadScript(lib, version) {\n      var key = `${lib.replace(\"-\", \"\")}_version`;\n      return (VEGA_DEBUG[key] == version) ?\n        Promise.resolve(paths[lib]) :\n        new Promise(function(resolve, reject) {\n          var s = document.createElement('script');\n          document.getElementsByTagName(\"head\")[0].appendChild(s);\n          s.async = true;\n          s.onload = () => {\n            VEGA_DEBUG[key] = version;\n            return resolve(paths[lib]);\n          };\n          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);\n          s.src = paths[lib];\n        });\n    }\n\n    function showError(err) {\n      outputDiv.innerHTML = `<div class=\"error\" style=\"color:red;\">${err}</div>`;\n      throw err;\n    }\n\n    function displayChart(vegaEmbed) {\n      vegaEmbed(outputDiv, spec, embedOpt)\n        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));\n    }\n\n    if(typeof define === \"function\" && define.amd) {\n      requirejs.config({paths});\n      require([\"vega-embed\"], displayChart, err => showError(`Error loading script: ${err.message}`));\n    } else {\n      maybeLoadScript(\"vega\", \"5\")\n        .then(() => maybeLoadScript(\"vega-lite\", \"5.8.0\"))\n        .then(() => maybeLoadScript(\"vega-embed\", \"6\"))\n        .catch(showError)\n        .then(() => displayChart(vegaEmbed));\n    }\n  })({\"config\": {\"view\": {\"continuousWidth\": 300, \"continuousHeight\": 300}}, \"data\": {\"name\": \"data-3a26c000e4862bfeb4ac3c81f7273b97\"}, \"mark\": {\"type\": \"line\"}, \"encoding\": {\"x\": {\"axis\": {\"labelAngle\": 90, \"format\": \"%m/%y\"}, \"field\": \"date\", \"type\": \"temporal\"}, \"y\": {\"aggregate\": \"average\", \"field\": \"annual_revenue\", \"type\": \"quantitative\"}}, \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.8.0.json\", \"datasets\": {\"data-3a26c000e4862bfeb4ac3c81f7273b97\": [{\"eshop_name\": \"E-ShopA\", \"date\": \"2020-01-31T00:00:00\", \"annual_revenue\": 13.35, \"time_on_site\": 1.09, \"average_rating\": 4.17, \"social_media_followers\": 173.76, \"average_response_time\": 2.35}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-02-29T00:00:00\", \"annual_revenue\": 10.74, \"time_on_site\": 0.56, \"average_rating\": 4.79, \"social_media_followers\": 52.69, \"average_response_time\": 2.58}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-03-31T00:00:00\", \"annual_revenue\": 11.91, \"time_on_site\": 0.57, \"average_rating\": 2.92, \"social_media_followers\": 141.79, \"average_response_time\": 1.54}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-04-30T00:00:00\", \"annual_revenue\": 16.38, \"time_on_site\": 2.44, \"average_rating\": 3.68, \"social_media_followers\": 190.57, \"average_response_time\": 1.92}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-05-31T00:00:00\", \"annual_revenue\": 6.52, \"time_on_site\": 2.07, \"average_rating\": 2.67, \"social_media_followers\": 129.49, \"average_response_time\": 1.49}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-06-30T00:00:00\", \"annual_revenue\": 15.8, \"time_on_site\": 3.79, \"average_rating\": 4.9, \"social_media_followers\": 209.08, \"average_response_time\": 2.51}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-07-31T00:00:00\", \"annual_revenue\": 20.97, \"time_on_site\": 2.29, \"average_rating\": 4.54, \"social_media_followers\": 313.68, \"average_response_time\": 2.2}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-08-31T00:00:00\", \"annual_revenue\": 9.4, \"time_on_site\": 1.67, \"average_rating\": 2.02, \"social_media_followers\": 139.71, \"average_response_time\": 0.93}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-09-30T00:00:00\", \"annual_revenue\": 10.09, \"time_on_site\": 1.67, \"average_rating\": 1.99, \"social_media_followers\": 167.66, \"average_response_time\": 0.85}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-10-31T00:00:00\", \"annual_revenue\": 25.98, \"time_on_site\": 5.17, \"average_rating\": 5.41, \"social_media_followers\": 487.31, \"average_response_time\": 2.48}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-11-30T00:00:00\", \"annual_revenue\": 18.07, \"time_on_site\": 3.33, \"average_rating\": 2.81, \"social_media_followers\": 328.19, \"average_response_time\": 1.28}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2020-12-31T00:00:00\", \"annual_revenue\": 36.81, \"time_on_site\": 5.99, \"average_rating\": 5.58, \"social_media_followers\": 548.23, \"average_response_time\": 2.75}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-01-31T00:00:00\", \"annual_revenue\": 33.28, \"time_on_site\": 6.63, \"average_rating\": 5.18, \"social_media_followers\": 497.46, \"average_response_time\": 2.32}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-02-28T00:00:00\", \"annual_revenue\": 14.35, \"time_on_site\": 2.24, \"average_rating\": 1.99, \"social_media_followers\": 225.24, \"average_response_time\": 0.88}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-03-31T00:00:00\", \"annual_revenue\": 32.38, \"time_on_site\": 5.78, \"average_rating\": 4.55, \"social_media_followers\": 556.54, \"average_response_time\": 1.83}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-04-30T00:00:00\", \"annual_revenue\": 34.06, \"time_on_site\": 7.61, \"average_rating\": 5.45, \"social_media_followers\": 767.84, \"average_response_time\": 2.01}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-05-31T00:00:00\", \"annual_revenue\": 37.03, \"time_on_site\": 4.61, \"average_rating\": 5.05, \"social_media_followers\": 697.06, \"average_response_time\": 1.82}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-06-30T00:00:00\", \"annual_revenue\": 22.18, \"time_on_site\": 4.22, \"average_rating\": 3.37, \"social_media_followers\": 463.57, \"average_response_time\": 1.2}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-07-31T00:00:00\", \"annual_revenue\": 36.24, \"time_on_site\": 5.63, \"average_rating\": 4.45, \"social_media_followers\": 694.09, \"average_response_time\": 1.85}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-08-31T00:00:00\", \"annual_revenue\": 20.09, \"time_on_site\": 3.34, \"average_rating\": 2.57, \"social_media_followers\": 336.78, \"average_response_time\": 0.88}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-09-30T00:00:00\", \"annual_revenue\": 28.98, \"time_on_site\": 5.27, \"average_rating\": 3.62, \"social_media_followers\": 522.46, \"average_response_time\": 1.36}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-10-31T00:00:00\", \"annual_revenue\": 41.89, \"time_on_site\": 10.34, \"average_rating\": 5.36, \"social_media_followers\": 778.12, \"average_response_time\": 1.72}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-11-30T00:00:00\", \"annual_revenue\": 57.76, \"time_on_site\": 8.62, \"average_rating\": 5.89, \"social_media_followers\": 961.73, \"average_response_time\": 2.18}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2021-12-31T00:00:00\", \"annual_revenue\": 18.83, \"time_on_site\": 4.14, \"average_rating\": 2.11, \"social_media_followers\": 327.24, \"average_response_time\": 0.73}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-01-31T00:00:00\", \"annual_revenue\": 53.2, \"time_on_site\": 8.08, \"average_rating\": 5.97, \"social_media_followers\": 1102.33, \"average_response_time\": 1.91}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-02-28T00:00:00\", \"annual_revenue\": 45.74, \"time_on_site\": 8.64, \"average_rating\": 5.02, \"social_media_followers\": 892.1, \"average_response_time\": 1.56}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-03-31T00:00:00\", \"annual_revenue\": 48.44, \"time_on_site\": 9.21, \"average_rating\": 5.02, \"social_media_followers\": 815.05, \"average_response_time\": 1.4}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-04-30T00:00:00\", \"annual_revenue\": 48.98, \"time_on_site\": 9.96, \"average_rating\": 4.88, \"social_media_followers\": 868.04, \"average_response_time\": 1.49}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-05-31T00:00:00\", \"annual_revenue\": 45.62, \"time_on_site\": 9.4, \"average_rating\": 4.5, \"social_media_followers\": 881.61, \"average_response_time\": 1.22}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-06-30T00:00:00\", \"annual_revenue\": 66.27, \"time_on_site\": 13.79, \"average_rating\": 6.65, \"social_media_followers\": 1323.58, \"average_response_time\": 1.56}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-07-31T00:00:00\", \"annual_revenue\": 63.04, \"time_on_site\": 10.41, \"average_rating\": 5.37, \"social_media_followers\": 1207.44, \"average_response_time\": 1.26}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-08-31T00:00:00\", \"annual_revenue\": 31.29, \"time_on_site\": 6.02, \"average_rating\": 3.16, \"social_media_followers\": 738.19, \"average_response_time\": 0.8}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-09-30T00:00:00\", \"annual_revenue\": 66.11, \"time_on_site\": 14.81, \"average_rating\": 6.34, \"social_media_followers\": 1385.38, \"average_response_time\": 1.83}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-10-31T00:00:00\", \"annual_revenue\": 27.25, \"time_on_site\": 5.59, \"average_rating\": 2.66, \"social_media_followers\": 541.14, \"average_response_time\": 0.65}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-11-30T00:00:00\", \"annual_revenue\": 61.7, \"time_on_site\": 10.31, \"average_rating\": 5.32, \"social_media_followers\": 1055.7, \"average_response_time\": 1.24}, {\"eshop_name\": \"E-ShopA\", \"date\": \"2022-12-31T00:00:00\", \"annual_revenue\": 74.67, \"time_on_site\": 12.41, \"average_rating\": 6.25, \"social_media_followers\": 1417.39, \"average_response_time\": 1.44}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-01-31T00:00:00\", \"annual_revenue\": 7.29, \"time_on_site\": 0.59, \"average_rating\": 2.28, \"social_media_followers\": 94.92, \"average_response_time\": 1.28}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-02-29T00:00:00\", \"annual_revenue\": 10.38, \"time_on_site\": 0.54, \"average_rating\": 4.63, \"social_media_followers\": 50.92, \"average_response_time\": 2.5}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-03-31T00:00:00\", \"annual_revenue\": 9.49, \"time_on_site\": 0.45, \"average_rating\": 2.33, \"social_media_followers\": 113.0, \"average_response_time\": 1.23}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-04-30T00:00:00\", \"annual_revenue\": 10.21, \"time_on_site\": 1.52, \"average_rating\": 2.3, \"social_media_followers\": 118.81, \"average_response_time\": 1.19}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-05-31T00:00:00\", \"annual_revenue\": 10.48, \"time_on_site\": 3.33, \"average_rating\": 4.29, \"social_media_followers\": 208.06, \"average_response_time\": 2.39}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-06-30T00:00:00\", \"annual_revenue\": 12.52, \"time_on_site\": 3.0, \"average_rating\": 3.88, \"social_media_followers\": 165.64, \"average_response_time\": 1.99}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-07-31T00:00:00\", \"annual_revenue\": 20.23, \"time_on_site\": 2.21, \"average_rating\": 4.38, \"social_media_followers\": 302.67, \"average_response_time\": 2.13}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-08-31T00:00:00\", \"annual_revenue\": 20.03, \"time_on_site\": 3.56, \"average_rating\": 4.31, \"social_media_followers\": 297.85, \"average_response_time\": 1.99}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-09-30T00:00:00\", \"annual_revenue\": 20.65, \"time_on_site\": 3.43, \"average_rating\": 4.08, \"social_media_followers\": 343.22, \"average_response_time\": 1.73}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-10-31T00:00:00\", \"annual_revenue\": 23.25, \"time_on_site\": 4.63, \"average_rating\": 4.84, \"social_media_followers\": 435.95, \"average_response_time\": 2.22}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-11-30T00:00:00\", \"annual_revenue\": 19.02, \"time_on_site\": 3.51, \"average_rating\": 2.96, \"social_media_followers\": 345.43, \"average_response_time\": 1.35}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2020-12-31T00:00:00\", \"annual_revenue\": 25.65, \"time_on_site\": 4.17, \"average_rating\": 3.89, \"social_media_followers\": 382.13, \"average_response_time\": 1.92}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-01-31T00:00:00\", \"annual_revenue\": 31.11, \"time_on_site\": 6.19, \"average_rating\": 4.85, \"social_media_followers\": 465.09, \"average_response_time\": 2.17}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-02-28T00:00:00\", \"annual_revenue\": 29.82, \"time_on_site\": 4.66, \"average_rating\": 4.14, \"social_media_followers\": 468.06, \"average_response_time\": 1.82}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-03-31T00:00:00\", \"annual_revenue\": 19.91, \"time_on_site\": 3.55, \"average_rating\": 2.8, \"social_media_followers\": 342.25, \"average_response_time\": 1.13}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-04-30T00:00:00\", \"annual_revenue\": 34.53, \"time_on_site\": 7.72, \"average_rating\": 5.53, \"social_media_followers\": 778.44, \"average_response_time\": 2.04}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-05-31T00:00:00\", \"annual_revenue\": 19.22, \"time_on_site\": 2.39, \"average_rating\": 2.62, \"social_media_followers\": 361.78, \"average_response_time\": 0.95}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-06-30T00:00:00\", \"annual_revenue\": 18.94, \"time_on_site\": 3.6, \"average_rating\": 2.87, \"social_media_followers\": 395.87, \"average_response_time\": 1.03}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-07-31T00:00:00\", \"annual_revenue\": 28.1, \"time_on_site\": 4.37, \"average_rating\": 3.45, \"social_media_followers\": 538.12, \"average_response_time\": 1.44}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-08-31T00:00:00\", \"annual_revenue\": 27.93, \"time_on_site\": 4.65, \"average_rating\": 3.57, \"social_media_followers\": 468.33, \"average_response_time\": 1.22}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-09-30T00:00:00\", \"annual_revenue\": 17.15, \"time_on_site\": 3.12, \"average_rating\": 2.14, \"social_media_followers\": 309.19, \"average_response_time\": 0.8}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-10-31T00:00:00\", \"annual_revenue\": 38.4, \"time_on_site\": 9.48, \"average_rating\": 4.92, \"social_media_followers\": 713.21, \"average_response_time\": 1.57}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-11-30T00:00:00\", \"annual_revenue\": 20.59, \"time_on_site\": 3.07, \"average_rating\": 2.1, \"social_media_followers\": 342.89, \"average_response_time\": 0.78}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2021-12-31T00:00:00\", \"annual_revenue\": 23.07, \"time_on_site\": 5.08, \"average_rating\": 2.58, \"social_media_followers\": 401.07, \"average_response_time\": 0.89}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-01-31T00:00:00\", \"annual_revenue\": 27.05, \"time_on_site\": 4.11, \"average_rating\": 3.03, \"social_media_followers\": 560.48, \"average_response_time\": 0.97}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-02-28T00:00:00\", \"annual_revenue\": 34.88, \"time_on_site\": 6.59, \"average_rating\": 3.83, \"social_media_followers\": 680.28, \"average_response_time\": 1.19}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-03-31T00:00:00\", \"annual_revenue\": 30.02, \"time_on_site\": 5.71, \"average_rating\": 3.11, \"social_media_followers\": 505.16, \"average_response_time\": 0.87}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-04-30T00:00:00\", \"annual_revenue\": 49.08, \"time_on_site\": 9.98, \"average_rating\": 4.89, \"social_media_followers\": 869.97, \"average_response_time\": 1.49}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-05-31T00:00:00\", \"annual_revenue\": 25.02, \"time_on_site\": 5.16, \"average_rating\": 2.47, \"social_media_followers\": 483.57, \"average_response_time\": 0.67}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-06-30T00:00:00\", \"annual_revenue\": 58.14, \"time_on_site\": 12.1, \"average_rating\": 5.83, \"social_media_followers\": 1161.17, \"average_response_time\": 1.37}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-07-31T00:00:00\", \"annual_revenue\": 47.16, \"time_on_site\": 7.78, \"average_rating\": 4.02, \"social_media_followers\": 903.2, \"average_response_time\": 0.94}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-08-31T00:00:00\", \"annual_revenue\": 59.03, \"time_on_site\": 11.36, \"average_rating\": 5.95, \"social_media_followers\": 1392.46, \"average_response_time\": 1.51}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-09-30T00:00:00\", \"annual_revenue\": 57.93, \"time_on_site\": 12.98, \"average_rating\": 5.56, \"social_media_followers\": 1213.84, \"average_response_time\": 1.6}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-10-31T00:00:00\", \"annual_revenue\": 31.13, \"time_on_site\": 6.39, \"average_rating\": 3.04, \"social_media_followers\": 618.3, \"average_response_time\": 0.74}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-11-30T00:00:00\", \"annual_revenue\": 70.84, \"time_on_site\": 11.83, \"average_rating\": 6.11, \"social_media_followers\": 1212.05, \"average_response_time\": 1.42}, {\"eshop_name\": \"E-ShopB\", \"date\": \"2022-12-31T00:00:00\", \"annual_revenue\": 63.77, \"time_on_site\": 10.59, \"average_rating\": 5.33, \"social_media_followers\": 1210.45, \"average_response_time\": 1.23}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-01-31T00:00:00\", \"annual_revenue\": 7.8, \"time_on_site\": 0.64, \"average_rating\": 2.44, \"social_media_followers\": 101.48, \"average_response_time\": 1.37}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-02-29T00:00:00\", \"annual_revenue\": 10.17, \"time_on_site\": 0.53, \"average_rating\": 4.54, \"social_media_followers\": 49.89, \"average_response_time\": 2.45}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-03-31T00:00:00\", \"annual_revenue\": 21.13, \"time_on_site\": 1.0, \"average_rating\": 5.19, \"social_media_followers\": 251.58, \"average_response_time\": 2.73}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-04-30T00:00:00\", \"annual_revenue\": 21.77, \"time_on_site\": 3.24, \"average_rating\": 4.9, \"social_media_followers\": 253.29, \"average_response_time\": 2.55}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-05-31T00:00:00\", \"annual_revenue\": 8.46, \"time_on_site\": 2.69, \"average_rating\": 3.47, \"social_media_followers\": 168.01, \"average_response_time\": 1.93}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-06-30T00:00:00\", \"annual_revenue\": 17.21, \"time_on_site\": 4.12, \"average_rating\": 5.33, \"social_media_followers\": 227.75, \"average_response_time\": 2.73}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-07-31T00:00:00\", \"annual_revenue\": 24.99, \"time_on_site\": 2.73, \"average_rating\": 5.41, \"social_media_followers\": 373.88, \"average_response_time\": 2.63}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-08-31T00:00:00\", \"annual_revenue\": 25.1, \"time_on_site\": 4.46, \"average_rating\": 5.4, \"social_media_followers\": 373.21, \"average_response_time\": 2.5}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-09-30T00:00:00\", \"annual_revenue\": 20.67, \"time_on_site\": 3.43, \"average_rating\": 4.09, \"social_media_followers\": 343.61, \"average_response_time\": 1.74}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-10-31T00:00:00\", \"annual_revenue\": 15.02, \"time_on_site\": 2.99, \"average_rating\": 3.13, \"social_media_followers\": 281.72, \"average_response_time\": 1.44}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-11-30T00:00:00\", \"annual_revenue\": 12.32, \"time_on_site\": 2.27, \"average_rating\": 1.92, \"social_media_followers\": 223.82, \"average_response_time\": 0.87}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2020-12-31T00:00:00\", \"annual_revenue\": 16.27, \"time_on_site\": 2.65, \"average_rating\": 2.47, \"social_media_followers\": 242.29, \"average_response_time\": 1.22}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-01-31T00:00:00\", \"annual_revenue\": 24.35, \"time_on_site\": 4.85, \"average_rating\": 3.79, \"social_media_followers\": 364.03, \"average_response_time\": 1.7}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-02-28T00:00:00\", \"annual_revenue\": 14.82, \"time_on_site\": 2.31, \"average_rating\": 2.06, \"social_media_followers\": 232.54, \"average_response_time\": 0.91}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-03-31T00:00:00\", \"annual_revenue\": 18.86, \"time_on_site\": 3.37, \"average_rating\": 2.65, \"social_media_followers\": 324.17, \"average_response_time\": 1.07}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-04-30T00:00:00\", \"annual_revenue\": 28.54, \"time_on_site\": 6.38, \"average_rating\": 4.57, \"social_media_followers\": 643.32, \"average_response_time\": 1.69}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-05-31T00:00:00\", \"annual_revenue\": 27.21, \"time_on_site\": 3.39, \"average_rating\": 3.71, \"social_media_followers\": 512.22, \"average_response_time\": 1.34}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-06-30T00:00:00\", \"annual_revenue\": 27.9, \"time_on_site\": 5.31, \"average_rating\": 4.24, \"social_media_followers\": 583.31, \"average_response_time\": 1.52}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-07-31T00:00:00\", \"annual_revenue\": 23.72, \"time_on_site\": 3.69, \"average_rating\": 2.91, \"social_media_followers\": 454.31, \"average_response_time\": 1.21}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-08-31T00:00:00\", \"annual_revenue\": 16.58, \"time_on_site\": 2.76, \"average_rating\": 2.12, \"social_media_followers\": 278.01, \"average_response_time\": 0.72}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-09-30T00:00:00\", \"annual_revenue\": 47.0, \"time_on_site\": 8.54, \"average_rating\": 5.86, \"social_media_followers\": 847.25, \"average_response_time\": 2.2}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-10-31T00:00:00\", \"annual_revenue\": 44.3, \"time_on_site\": 10.94, \"average_rating\": 5.67, \"social_media_followers\": 822.93, \"average_response_time\": 1.82}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-11-30T00:00:00\", \"annual_revenue\": 49.79, \"time_on_site\": 7.43, \"average_rating\": 5.08, \"social_media_followers\": 829.0, \"average_response_time\": 1.88}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2021-12-31T00:00:00\", \"annual_revenue\": 40.87, \"time_on_site\": 8.99, \"average_rating\": 4.58, \"social_media_followers\": 710.44, \"average_response_time\": 1.58}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-01-31T00:00:00\", \"annual_revenue\": 53.32, \"time_on_site\": 8.1, \"average_rating\": 5.98, \"social_media_followers\": 1104.95, \"average_response_time\": 1.92}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-02-28T00:00:00\", \"annual_revenue\": 29.99, \"time_on_site\": 5.67, \"average_rating\": 3.29, \"social_media_followers\": 584.84, \"average_response_time\": 1.02}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-03-31T00:00:00\", \"annual_revenue\": 21.0, \"time_on_site\": 3.99, \"average_rating\": 2.18, \"social_media_followers\": 353.32, \"average_response_time\": 0.61}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-04-30T00:00:00\", \"annual_revenue\": 56.89, \"time_on_site\": 11.57, \"average_rating\": 5.67, \"social_media_followers\": 1008.37, \"average_response_time\": 1.73}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-05-31T00:00:00\", \"annual_revenue\": 44.04, \"time_on_site\": 9.08, \"average_rating\": 4.34, \"social_media_followers\": 851.22, \"average_response_time\": 1.18}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-06-30T00:00:00\", \"annual_revenue\": 53.14, \"time_on_site\": 11.06, \"average_rating\": 5.33, \"social_media_followers\": 1061.45, \"average_response_time\": 1.25}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-07-31T00:00:00\", \"annual_revenue\": 32.56, \"time_on_site\": 5.37, \"average_rating\": 2.78, \"social_media_followers\": 623.72, \"average_response_time\": 0.65}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-08-31T00:00:00\", \"annual_revenue\": 64.83, \"time_on_site\": 12.48, \"average_rating\": 6.54, \"social_media_followers\": 1529.19, \"average_response_time\": 1.66}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-09-30T00:00:00\", \"annual_revenue\": 31.7, \"time_on_site\": 7.1, \"average_rating\": 3.04, \"social_media_followers\": 664.3, \"average_response_time\": 0.88}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-10-31T00:00:00\", \"annual_revenue\": 27.09, \"time_on_site\": 5.56, \"average_rating\": 2.65, \"social_media_followers\": 538.03, \"average_response_time\": 0.64}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-11-30T00:00:00\", \"annual_revenue\": 56.59, \"time_on_site\": 9.45, \"average_rating\": 4.88, \"social_media_followers\": 968.37, \"average_response_time\": 1.13}, {\"eshop_name\": \"E-ShopC\", \"date\": \"2022-12-31T00:00:00\", \"annual_revenue\": 66.5, \"time_on_site\": 11.05, \"average_rating\": 5.56, \"social_media_followers\": 1262.25, \"average_response_time\": 1.28}]}}, {\"mode\": \"vega-lite\"});\n</script>\n```\n:::\n:::\n\n\n# Task Overview and Hints\n\n## Task 1: Average Revenue by E-Shop\n\nYou're required to show the average revenue for all shops, using the name `average_revenue`.\n\n**Hint:**\n\n1. Import the Altair library.\n2. Read the CSV data into a Pandas DataFrame.\n3. Use `alt.Chart()` to create a chart.\n4. Use `mark_bar()` to specify that you want a bar chart.\n5. Use `encode()` to specify the X and Y axes. You can compute the average revenue using Altair's built-in `average()` function.\n\n\n## Task 2: Two E-Shops with the Highest Average Rating\n\nThe task is to show the two E-Shops with the highest average rating, using the name `average_rating`.\n\n**Hint:**\n\n1. Group the data by 'eshop_name' and calculate the mean of 'average_rating' for each group.\n2. Sort the results in descending order and pick the top 2.\n3. Use the same charting methods as in Task 1 to visualize the data.\n\n\n## Task 3: E-Shop Performance Over Time\n\nYou're tasked with showing the annual revenue per E-Shop by year, using the names `year` and `total_revenue`.\n\n**Hint:**\n\n1. Make sure the 'date' column is in a date-time format.\n2. Extract the year from the 'date' column using the `year()` function in Altair.\n3. To get the total revenue, use the `sum()` function in Altair.\n4. Use `mark_bar()` for the chart type and encode the axes accordingly.\n\n\n## Task 4: Maximum Social Media Followers\n\nYour task is to show the maximum amount of social media followers for every E-shop in a descending order, using the name `max_followers`.\n\n**Hint:**\n\n1. Use the `max()` function in Altair to calculate the maximum number of social media followers for each E-shop.\n2. Sort the E-shops by the 'y' axis in descending order when encoding the 'x' axis.\n\n\n## Task 5: Monthly Time on Site overview\n\nThe final task is to show a monthly overview of the average time on site for every E-shop (ordered by E-shop and month), using the names `month` and `average_time_on_site`.\n\n**Hint:**\n\n1. Extract the month from the 'date' column using the `month()` function in Altair.\n2. To get the average time on site, use the `average()` function in Altair.\n3. Use `mark_line()` for the chart type and encode the axes accordingly.\n\n",
    "supporting": [
      "altair_files/figure-revealjs"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}