{
  "hash": "b07219efa137203139614230bbd0cf36",
  "result": {
    "markdown": "---\ntitle: Altair\nlang: en\nsubtitle: Basics, Task Overview and Hints\nauthor: Jan Kirenz\nexecute:\n  eval: true\n  echo: true\nhighlight-style: github\nformat:\n  revealjs: \n    toc: true\n    toc-depth: 1\n    embed-resources: false\n    theme: [dark, ../custom.scss]  \n    incremental: true\n    transition: slide\n    background-transition: fade\n    transition-speed: slow\n    code-copy: true\n    code-line-numbers: true\n    smaller: false\n    scrollable: true\n    slide-number: c\n    preview-links: auto\n    chalkboard: \n      buttons: false\n   #logo: images/logo.png\n    footer: Jan Kirenz\n---\n\n# Introduction to Altair-Vega\n\n- Altair is a declarative statistical visualization library in Python.\n\n- It's built on [Vega](https://vega.github.io/vega/) and [Vega-Lite](https://vega.github.io/vega-lite-api/), which are visualization grammars built on top of [D3](https://d3js.org/). \n\n\n## Key features of Altair\n\n- Simple API: Just a few lines of code can create beautiful visualizations.\n\n- Integration with Pandas: Altair's API is designed to work with Pandas dataframes.\n\n- Declarative Visualization: You describe the properties of a visualization and let Altair figure out how to implement it.\n\n# Altair example\n\n## Python Setup\n\n::: {#a0227f3f .cell execution_count=1}\n``` {.python .cell-code}\nimport altair as alt\nimport pandas as pd\n```\n:::\n\n\n## Create a DataFrame\n\n::: {#4c011d98 .cell execution_count=2}\n``` {.python .cell-code}\ndata = {'name': ['Zeynep', 'Anna', 'Tim', 'Sara', 'Elias', 'Admir', 'Lina'],  # <2>\n        'age': [33, 25, 23, 21, 28, 20, 31],\n        'date': ['1990-06-03', '1998-03-12', '2000-01-20', '2002-02-16', '1995-05-02', '2003-06-03', '1992-06-03'],\n        'city': ['Stuttgart', 'Berlin', 'Stuttgart', 'Stuttgart', 'Berlin', 'Munich', 'Stuttgart']}\n\ndf = pd.DataFrame(data)\n```\n:::\n\n\n## Change Data Format\n\n::: {#82d8b0ce .cell execution_count=3}\n``` {.python .cell-code}\nCAT_LIST = ['name', 'city']\n\nfor i in CAT_LIST:\n    df[i] = df[i].astype('category')\n\ndf['date'] = pd.to_datetime(df['date'])\n```\n:::\n\n\n## Bar Chart\n\n\n- We use `.mark_bar()` to create a bar plot\n\n. . .\n\n::: {#178b28c7 .cell output-location='column-fragment' execution_count=4}\n``` {.python .cell-code}\nalt.Chart(df).mark_bar().encode(  # <1>\n    x=alt.X('name'),              # <2>\n    y=alt.Y('age')                # <3>\n)\n\n```\n\n::: {.cell-output .cell-output-display execution_count=4}\n```{=html}\n\n<style>\n  #altair-viz-50703fb0449f43f596f74bd1d0d2e9c5.vega-embed {\n    width: 100%;\n    display: flex;\n  }\n\n  #altair-viz-50703fb0449f43f596f74bd1d0d2e9c5.vega-embed details,\n  #altair-viz-50703fb0449f43f596f74bd1d0d2e9c5.vega-embed details summary {\n    position: relative;\n  }\n</style>\n<div id=\"altair-viz-50703fb0449f43f596f74bd1d0d2e9c5\"></div>\n<script type=\"text/javascript\">\n  var VEGA_DEBUG = (typeof VEGA_DEBUG == \"undefined\") ? {} : VEGA_DEBUG;\n  (function(spec, embedOpt){\n    let outputDiv = document.currentScript.previousElementSibling;\n    if (outputDiv.id !== \"altair-viz-50703fb0449f43f596f74bd1d0d2e9c5\") {\n      outputDiv = document.getElementById(\"altair-viz-50703fb0449f43f596f74bd1d0d2e9c5\");\n    }\n    const paths = {\n      \"vega\": \"https://cdn.jsdelivr.net/npm/vega@5?noext\",\n      \"vega-lib\": \"https://cdn.jsdelivr.net/npm/vega-lib?noext\",\n      \"vega-lite\": \"https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext\",\n      \"vega-embed\": \"https://cdn.jsdelivr.net/npm/vega-embed@6?noext\",\n    };\n\n    function maybeLoadScript(lib, version) {\n      var key = `${lib.replace(\"-\", \"\")}_version`;\n      return (VEGA_DEBUG[key] == version) ?\n        Promise.resolve(paths[lib]) :\n        new Promise(function(resolve, reject) {\n          var s = document.createElement('script');\n          document.getElementsByTagName(\"head\")[0].appendChild(s);\n          s.async = true;\n          s.onload = () => {\n            VEGA_DEBUG[key] = version;\n            return resolve(paths[lib]);\n          };\n          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);\n          s.src = paths[lib];\n        });\n    }\n\n    function showError(err) {\n      outputDiv.innerHTML = `<div class=\"error\" style=\"color:red;\">${err}</div>`;\n      throw err;\n    }\n\n    function displayChart(vegaEmbed) {\n      vegaEmbed(outputDiv, spec, embedOpt)\n        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));\n    }\n\n    if(typeof define === \"function\" && define.amd) {\n      requirejs.config({paths});\n      require([\"vega-embed\"], displayChart, err => showError(`Error loading script: ${err.message}`));\n    } else {\n      maybeLoadScript(\"vega\", \"5\")\n        .then(() => maybeLoadScript(\"vega-lite\", \"5.8.0\"))\n        .then(() => maybeLoadScript(\"vega-embed\", \"6\"))\n        .catch(showError)\n        .then(() => displayChart(vegaEmbed));\n    }\n  })({\"config\": {\"view\": {\"continuousWidth\": 300, \"continuousHeight\": 300}}, \"data\": {\"name\": \"data-35a07b333ab42c20ffaa19d64e97f161\"}, \"mark\": {\"type\": \"bar\"}, \"encoding\": {\"x\": {\"field\": \"name\", \"type\": \"nominal\"}, \"y\": {\"field\": \"age\", \"type\": \"quantitative\"}}, \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.8.0.json\", \"datasets\": {\"data-35a07b333ab42c20ffaa19d64e97f161\": [{\"name\": \"Zeynep\", \"age\": 33, \"date\": \"1990-06-03T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Anna\", \"age\": 25, \"date\": \"1998-03-12T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Tim\", \"age\": 23, \"date\": \"2000-01-20T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Sara\", \"age\": 21, \"date\": \"2002-02-16T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Elias\", \"age\": 28, \"date\": \"1995-05-02T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Admir\", \"age\": 20, \"date\": \"2003-06-03T00:00:00\", \"city\": \"Munich\"}, {\"name\": \"Lina\", \"age\": 31, \"date\": \"1992-06-03T00:00:00\", \"city\": \"Stuttgart\"}]}}, {\"mode\": \"vega-lite\"});\n</script>\n```\n:::\n:::\n\n\n1. Define a chart object (ACME acronym)\n2. Define x-axis\n3. Define y-axis\n\n\n## Bar Chart with sorted values\n\n::: {#0cd88756 .cell output-location='column-fragment' execution_count=5}\n``` {.python .cell-code}\nalt.Chart(df).mark_bar().encode(\n    x=alt.X('name').sort('y'),   # <1>\n    y=alt.Y('age')\n)\n```\n\n::: {.cell-output .cell-output-display execution_count=5}\n```{=html}\n\n<style>\n  #altair-viz-ef36831bd1f94b06bff5c58a5f8ae79c.vega-embed {\n    width: 100%;\n    display: flex;\n  }\n\n  #altair-viz-ef36831bd1f94b06bff5c58a5f8ae79c.vega-embed details,\n  #altair-viz-ef36831bd1f94b06bff5c58a5f8ae79c.vega-embed details summary {\n    position: relative;\n  }\n</style>\n<div id=\"altair-viz-ef36831bd1f94b06bff5c58a5f8ae79c\"></div>\n<script type=\"text/javascript\">\n  var VEGA_DEBUG = (typeof VEGA_DEBUG == \"undefined\") ? {} : VEGA_DEBUG;\n  (function(spec, embedOpt){\n    let outputDiv = document.currentScript.previousElementSibling;\n    if (outputDiv.id !== \"altair-viz-ef36831bd1f94b06bff5c58a5f8ae79c\") {\n      outputDiv = document.getElementById(\"altair-viz-ef36831bd1f94b06bff5c58a5f8ae79c\");\n    }\n    const paths = {\n      \"vega\": \"https://cdn.jsdelivr.net/npm/vega@5?noext\",\n      \"vega-lib\": \"https://cdn.jsdelivr.net/npm/vega-lib?noext\",\n      \"vega-lite\": \"https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext\",\n      \"vega-embed\": \"https://cdn.jsdelivr.net/npm/vega-embed@6?noext\",\n    };\n\n    function maybeLoadScript(lib, version) {\n      var key = `${lib.replace(\"-\", \"\")}_version`;\n      return (VEGA_DEBUG[key] == version) ?\n        Promise.resolve(paths[lib]) :\n        new Promise(function(resolve, reject) {\n          var s = document.createElement('script');\n          document.getElementsByTagName(\"head\")[0].appendChild(s);\n          s.async = true;\n          s.onload = () => {\n            VEGA_DEBUG[key] = version;\n            return resolve(paths[lib]);\n          };\n          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);\n          s.src = paths[lib];\n        });\n    }\n\n    function showError(err) {\n      outputDiv.innerHTML = `<div class=\"error\" style=\"color:red;\">${err}</div>`;\n      throw err;\n    }\n\n    function displayChart(vegaEmbed) {\n      vegaEmbed(outputDiv, spec, embedOpt)\n        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));\n    }\n\n    if(typeof define === \"function\" && define.amd) {\n      requirejs.config({paths});\n      require([\"vega-embed\"], displayChart, err => showError(`Error loading script: ${err.message}`));\n    } else {\n      maybeLoadScript(\"vega\", \"5\")\n        .then(() => maybeLoadScript(\"vega-lite\", \"5.8.0\"))\n        .then(() => maybeLoadScript(\"vega-embed\", \"6\"))\n        .catch(showError)\n        .then(() => displayChart(vegaEmbed));\n    }\n  })({\"config\": {\"view\": {\"continuousWidth\": 300, \"continuousHeight\": 300}}, \"data\": {\"name\": \"data-35a07b333ab42c20ffaa19d64e97f161\"}, \"mark\": {\"type\": \"bar\"}, \"encoding\": {\"x\": {\"field\": \"name\", \"sort\": \"y\", \"type\": \"nominal\"}, \"y\": {\"field\": \"age\", \"type\": \"quantitative\"}}, \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.8.0.json\", \"datasets\": {\"data-35a07b333ab42c20ffaa19d64e97f161\": [{\"name\": \"Zeynep\", \"age\": 33, \"date\": \"1990-06-03T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Anna\", \"age\": 25, \"date\": \"1998-03-12T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Tim\", \"age\": 23, \"date\": \"2000-01-20T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Sara\", \"age\": 21, \"date\": \"2002-02-16T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Elias\", \"age\": 28, \"date\": \"1995-05-02T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Admir\", \"age\": 20, \"date\": \"2003-06-03T00:00:00\", \"city\": \"Munich\"}, {\"name\": \"Lina\", \"age\": 31, \"date\": \"1992-06-03T00:00:00\", \"city\": \"Stuttgart\"}]}}, {\"mode\": \"vega-lite\"});\n</script>\n```\n:::\n:::\n\n\n1. Sort the values in an ascending order \n\n## Bar Chart with sorted values\n\n::: {#e71f91a5 .cell output-location='column-fragment' execution_count=6}\n``` {.python .cell-code}\nalt.Chart(df).mark_bar().encode(\n    x=alt.X('name').sort('-y'),   # <1>\n    y=alt.Y('age')\n)\n```\n\n::: {.cell-output .cell-output-display execution_count=6}\n```{=html}\n\n<style>\n  #altair-viz-65ca61b34862405faabdfb234d5e3611.vega-embed {\n    width: 100%;\n    display: flex;\n  }\n\n  #altair-viz-65ca61b34862405faabdfb234d5e3611.vega-embed details,\n  #altair-viz-65ca61b34862405faabdfb234d5e3611.vega-embed details summary {\n    position: relative;\n  }\n</style>\n<div id=\"altair-viz-65ca61b34862405faabdfb234d5e3611\"></div>\n<script type=\"text/javascript\">\n  var VEGA_DEBUG = (typeof VEGA_DEBUG == \"undefined\") ? {} : VEGA_DEBUG;\n  (function(spec, embedOpt){\n    let outputDiv = document.currentScript.previousElementSibling;\n    if (outputDiv.id !== \"altair-viz-65ca61b34862405faabdfb234d5e3611\") {\n      outputDiv = document.getElementById(\"altair-viz-65ca61b34862405faabdfb234d5e3611\");\n    }\n    const paths = {\n      \"vega\": \"https://cdn.jsdelivr.net/npm/vega@5?noext\",\n      \"vega-lib\": \"https://cdn.jsdelivr.net/npm/vega-lib?noext\",\n      \"vega-lite\": \"https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext\",\n      \"vega-embed\": \"https://cdn.jsdelivr.net/npm/vega-embed@6?noext\",\n    };\n\n    function maybeLoadScript(lib, version) {\n      var key = `${lib.replace(\"-\", \"\")}_version`;\n      return (VEGA_DEBUG[key] == version) ?\n        Promise.resolve(paths[lib]) :\n        new Promise(function(resolve, reject) {\n          var s = document.createElement('script');\n          document.getElementsByTagName(\"head\")[0].appendChild(s);\n          s.async = true;\n          s.onload = () => {\n            VEGA_DEBUG[key] = version;\n            return resolve(paths[lib]);\n          };\n          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);\n          s.src = paths[lib];\n        });\n    }\n\n    function showError(err) {\n      outputDiv.innerHTML = `<div class=\"error\" style=\"color:red;\">${err}</div>`;\n      throw err;\n    }\n\n    function displayChart(vegaEmbed) {\n      vegaEmbed(outputDiv, spec, embedOpt)\n        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));\n    }\n\n    if(typeof define === \"function\" && define.amd) {\n      requirejs.config({paths});\n      require([\"vega-embed\"], displayChart, err => showError(`Error loading script: ${err.message}`));\n    } else {\n      maybeLoadScript(\"vega\", \"5\")\n        .then(() => maybeLoadScript(\"vega-lite\", \"5.8.0\"))\n        .then(() => maybeLoadScript(\"vega-embed\", \"6\"))\n        .catch(showError)\n        .then(() => displayChart(vegaEmbed));\n    }\n  })({\"config\": {\"view\": {\"continuousWidth\": 300, \"continuousHeight\": 300}}, \"data\": {\"name\": \"data-35a07b333ab42c20ffaa19d64e97f161\"}, \"mark\": {\"type\": \"bar\"}, \"encoding\": {\"x\": {\"field\": \"name\", \"sort\": \"-y\", \"type\": \"nominal\"}, \"y\": {\"field\": \"age\", \"type\": \"quantitative\"}}, \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.8.0.json\", \"datasets\": {\"data-35a07b333ab42c20ffaa19d64e97f161\": [{\"name\": \"Zeynep\", \"age\": 33, \"date\": \"1990-06-03T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Anna\", \"age\": 25, \"date\": \"1998-03-12T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Tim\", \"age\": 23, \"date\": \"2000-01-20T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Sara\", \"age\": 21, \"date\": \"2002-02-16T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Elias\", \"age\": 28, \"date\": \"1995-05-02T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Admir\", \"age\": 20, \"date\": \"2003-06-03T00:00:00\", \"city\": \"Munich\"}, {\"name\": \"Lina\", \"age\": 31, \"date\": \"1992-06-03T00:00:00\", \"city\": \"Stuttgart\"}]}}, {\"mode\": \"vega-lite\"});\n</script>\n```\n:::\n:::\n\n\n1. Sort the values in a descending order \n\n## Bar Chart with properties\n\n::: {#e32c5744 .cell output-location='column-fragment' execution_count=7}\n``` {.python .cell-code}\nalt.Chart(df).mark_bar().encode(\n    x=alt.X('name').sort('-y'),\n    y=alt.Y('age')\n).properties(                            # <1>\n    title='This is a simple bar chart',  # <2>\n    width=300,                           # <3>\n    height=150                           # <4>\n)\n```\n\n::: {.cell-output .cell-output-display execution_count=7}\n```{=html}\n\n<style>\n  #altair-viz-97e023215a7e4c3498823911d6ad2d2a.vega-embed {\n    width: 100%;\n    display: flex;\n  }\n\n  #altair-viz-97e023215a7e4c3498823911d6ad2d2a.vega-embed details,\n  #altair-viz-97e023215a7e4c3498823911d6ad2d2a.vega-embed details summary {\n    position: relative;\n  }\n</style>\n<div id=\"altair-viz-97e023215a7e4c3498823911d6ad2d2a\"></div>\n<script type=\"text/javascript\">\n  var VEGA_DEBUG = (typeof VEGA_DEBUG == \"undefined\") ? {} : VEGA_DEBUG;\n  (function(spec, embedOpt){\n    let outputDiv = document.currentScript.previousElementSibling;\n    if (outputDiv.id !== \"altair-viz-97e023215a7e4c3498823911d6ad2d2a\") {\n      outputDiv = document.getElementById(\"altair-viz-97e023215a7e4c3498823911d6ad2d2a\");\n    }\n    const paths = {\n      \"vega\": \"https://cdn.jsdelivr.net/npm/vega@5?noext\",\n      \"vega-lib\": \"https://cdn.jsdelivr.net/npm/vega-lib?noext\",\n      \"vega-lite\": \"https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext\",\n      \"vega-embed\": \"https://cdn.jsdelivr.net/npm/vega-embed@6?noext\",\n    };\n\n    function maybeLoadScript(lib, version) {\n      var key = `${lib.replace(\"-\", \"\")}_version`;\n      return (VEGA_DEBUG[key] == version) ?\n        Promise.resolve(paths[lib]) :\n        new Promise(function(resolve, reject) {\n          var s = document.createElement('script');\n          document.getElementsByTagName(\"head\")[0].appendChild(s);\n          s.async = true;\n          s.onload = () => {\n            VEGA_DEBUG[key] = version;\n            return resolve(paths[lib]);\n          };\n          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);\n          s.src = paths[lib];\n        });\n    }\n\n    function showError(err) {\n      outputDiv.innerHTML = `<div class=\"error\" style=\"color:red;\">${err}</div>`;\n      throw err;\n    }\n\n    function displayChart(vegaEmbed) {\n      vegaEmbed(outputDiv, spec, embedOpt)\n        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));\n    }\n\n    if(typeof define === \"function\" && define.amd) {\n      requirejs.config({paths});\n      require([\"vega-embed\"], displayChart, err => showError(`Error loading script: ${err.message}`));\n    } else {\n      maybeLoadScript(\"vega\", \"5\")\n        .then(() => maybeLoadScript(\"vega-lite\", \"5.8.0\"))\n        .then(() => maybeLoadScript(\"vega-embed\", \"6\"))\n        .catch(showError)\n        .then(() => displayChart(vegaEmbed));\n    }\n  })({\"config\": {\"view\": {\"continuousWidth\": 300, \"continuousHeight\": 300}}, \"data\": {\"name\": \"data-35a07b333ab42c20ffaa19d64e97f161\"}, \"mark\": {\"type\": \"bar\"}, \"encoding\": {\"x\": {\"field\": \"name\", \"sort\": \"-y\", \"type\": \"nominal\"}, \"y\": {\"field\": \"age\", \"type\": \"quantitative\"}}, \"height\": 150, \"title\": \"This is a simple bar chart\", \"width\": 300, \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.8.0.json\", \"datasets\": {\"data-35a07b333ab42c20ffaa19d64e97f161\": [{\"name\": \"Zeynep\", \"age\": 33, \"date\": \"1990-06-03T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Anna\", \"age\": 25, \"date\": \"1998-03-12T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Tim\", \"age\": 23, \"date\": \"2000-01-20T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Sara\", \"age\": 21, \"date\": \"2002-02-16T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Elias\", \"age\": 28, \"date\": \"1995-05-02T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Admir\", \"age\": 20, \"date\": \"2003-06-03T00:00:00\", \"city\": \"Munich\"}, {\"name\": \"Lina\", \"age\": 31, \"date\": \"1992-06-03T00:00:00\", \"city\": \"Stuttgart\"}]}}, {\"mode\": \"vega-lite\"});\n</script>\n```\n:::\n:::\n\n\n1. Add properties to the chart\n2. Define a chart title\n3. Set the width of the chart (in pixel)\n4. Set the height of the chart (in pixel)\n\n\n\n## Bar Chart with properties\n\n::: {#25c90660 .cell output-location='column-fragment' execution_count=8}\n``` {.python .cell-code}\nalt.Chart(df).mark_bar().encode(\n    x=alt.X('name').sort('-y'),\n    y=alt.Y('age')\n).properties(                            # <1>\n    title='This is a simple bar chart',  # <2>\n    width=300,                           # <3>\n    height=150                           # <4>\n)\n```\n\n::: {.cell-output .cell-output-display execution_count=8}\n```{=html}\n\n<style>\n  #altair-viz-64bcd1b0b5b244589ba1bf1225de7bf3.vega-embed {\n    width: 100%;\n    display: flex;\n  }\n\n  #altair-viz-64bcd1b0b5b244589ba1bf1225de7bf3.vega-embed details,\n  #altair-viz-64bcd1b0b5b244589ba1bf1225de7bf3.vega-embed details summary {\n    position: relative;\n  }\n</style>\n<div id=\"altair-viz-64bcd1b0b5b244589ba1bf1225de7bf3\"></div>\n<script type=\"text/javascript\">\n  var VEGA_DEBUG = (typeof VEGA_DEBUG == \"undefined\") ? {} : VEGA_DEBUG;\n  (function(spec, embedOpt){\n    let outputDiv = document.currentScript.previousElementSibling;\n    if (outputDiv.id !== \"altair-viz-64bcd1b0b5b244589ba1bf1225de7bf3\") {\n      outputDiv = document.getElementById(\"altair-viz-64bcd1b0b5b244589ba1bf1225de7bf3\");\n    }\n    const paths = {\n      \"vega\": \"https://cdn.jsdelivr.net/npm/vega@5?noext\",\n      \"vega-lib\": \"https://cdn.jsdelivr.net/npm/vega-lib?noext\",\n      \"vega-lite\": \"https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext\",\n      \"vega-embed\": \"https://cdn.jsdelivr.net/npm/vega-embed@6?noext\",\n    };\n\n    function maybeLoadScript(lib, version) {\n      var key = `${lib.replace(\"-\", \"\")}_version`;\n      return (VEGA_DEBUG[key] == version) ?\n        Promise.resolve(paths[lib]) :\n        new Promise(function(resolve, reject) {\n          var s = document.createElement('script');\n          document.getElementsByTagName(\"head\")[0].appendChild(s);\n          s.async = true;\n          s.onload = () => {\n            VEGA_DEBUG[key] = version;\n            return resolve(paths[lib]);\n          };\n          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);\n          s.src = paths[lib];\n        });\n    }\n\n    function showError(err) {\n      outputDiv.innerHTML = `<div class=\"error\" style=\"color:red;\">${err}</div>`;\n      throw err;\n    }\n\n    function displayChart(vegaEmbed) {\n      vegaEmbed(outputDiv, spec, embedOpt)\n        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));\n    }\n\n    if(typeof define === \"function\" && define.amd) {\n      requirejs.config({paths});\n      require([\"vega-embed\"], displayChart, err => showError(`Error loading script: ${err.message}`));\n    } else {\n      maybeLoadScript(\"vega\", \"5\")\n        .then(() => maybeLoadScript(\"vega-lite\", \"5.8.0\"))\n        .then(() => maybeLoadScript(\"vega-embed\", \"6\"))\n        .catch(showError)\n        .then(() => displayChart(vegaEmbed));\n    }\n  })({\"config\": {\"view\": {\"continuousWidth\": 300, \"continuousHeight\": 300}}, \"data\": {\"name\": \"data-35a07b333ab42c20ffaa19d64e97f161\"}, \"mark\": {\"type\": \"bar\"}, \"encoding\": {\"x\": {\"field\": \"name\", \"sort\": \"-y\", \"type\": \"nominal\"}, \"y\": {\"field\": \"age\", \"type\": \"quantitative\"}}, \"height\": 150, \"title\": \"This is a simple bar chart\", \"width\": 300, \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.8.0.json\", \"datasets\": {\"data-35a07b333ab42c20ffaa19d64e97f161\": [{\"name\": \"Zeynep\", \"age\": 33, \"date\": \"1990-06-03T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Anna\", \"age\": 25, \"date\": \"1998-03-12T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Tim\", \"age\": 23, \"date\": \"2000-01-20T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Sara\", \"age\": 21, \"date\": \"2002-02-16T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Elias\", \"age\": 28, \"date\": \"1995-05-02T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Admir\", \"age\": 20, \"date\": \"2003-06-03T00:00:00\", \"city\": \"Munich\"}, {\"name\": \"Lina\", \"age\": 31, \"date\": \"1992-06-03T00:00:00\", \"city\": \"Stuttgart\"}]}}, {\"mode\": \"vega-lite\"});\n</script>\n```\n:::\n:::\n\n\n1. Add properties to the chart\n2. Define a chart title\n3. Set the width of the chart (in pixel)\n4. Set the height of the chart (in pixel)\n\n## Bar chart with custom x-axis\n\n::: {#8c8331b7 .cell output-location='column-fragment' execution_count=9}\n``` {.python .cell-code}\nalt.Chart(df).mark_bar().encode(\n    x=alt.X('name').sort('-y').axis(\n        title=\"Name\",  # <1>\n        labelAngle=0,         # <2>\n        grid=False,           # <3>\n        titleAnchor=\"start\"),  # <4>\n    y=alt.Y('age')\n).properties(\n    title='This is a simple bar chart',\n    width=300,\n    height=150\n)\n\n```\n\n::: {.cell-output .cell-output-display execution_count=9}\n```{=html}\n\n<style>\n  #altair-viz-ef99e64578594ceb979b82732e46fd4a.vega-embed {\n    width: 100%;\n    display: flex;\n  }\n\n  #altair-viz-ef99e64578594ceb979b82732e46fd4a.vega-embed details,\n  #altair-viz-ef99e64578594ceb979b82732e46fd4a.vega-embed details summary {\n    position: relative;\n  }\n</style>\n<div id=\"altair-viz-ef99e64578594ceb979b82732e46fd4a\"></div>\n<script type=\"text/javascript\">\n  var VEGA_DEBUG = (typeof VEGA_DEBUG == \"undefined\") ? {} : VEGA_DEBUG;\n  (function(spec, embedOpt){\n    let outputDiv = document.currentScript.previousElementSibling;\n    if (outputDiv.id !== \"altair-viz-ef99e64578594ceb979b82732e46fd4a\") {\n      outputDiv = document.getElementById(\"altair-viz-ef99e64578594ceb979b82732e46fd4a\");\n    }\n    const paths = {\n      \"vega\": \"https://cdn.jsdelivr.net/npm/vega@5?noext\",\n      \"vega-lib\": \"https://cdn.jsdelivr.net/npm/vega-lib?noext\",\n      \"vega-lite\": \"https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext\",\n      \"vega-embed\": \"https://cdn.jsdelivr.net/npm/vega-embed@6?noext\",\n    };\n\n    function maybeLoadScript(lib, version) {\n      var key = `${lib.replace(\"-\", \"\")}_version`;\n      return (VEGA_DEBUG[key] == version) ?\n        Promise.resolve(paths[lib]) :\n        new Promise(function(resolve, reject) {\n          var s = document.createElement('script');\n          document.getElementsByTagName(\"head\")[0].appendChild(s);\n          s.async = true;\n          s.onload = () => {\n            VEGA_DEBUG[key] = version;\n            return resolve(paths[lib]);\n          };\n          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);\n          s.src = paths[lib];\n        });\n    }\n\n    function showError(err) {\n      outputDiv.innerHTML = `<div class=\"error\" style=\"color:red;\">${err}</div>`;\n      throw err;\n    }\n\n    function displayChart(vegaEmbed) {\n      vegaEmbed(outputDiv, spec, embedOpt)\n        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));\n    }\n\n    if(typeof define === \"function\" && define.amd) {\n      requirejs.config({paths});\n      require([\"vega-embed\"], displayChart, err => showError(`Error loading script: ${err.message}`));\n    } else {\n      maybeLoadScript(\"vega\", \"5\")\n        .then(() => maybeLoadScript(\"vega-lite\", \"5.8.0\"))\n        .then(() => maybeLoadScript(\"vega-embed\", \"6\"))\n        .catch(showError)\n        .then(() => displayChart(vegaEmbed));\n    }\n  })({\"config\": {\"view\": {\"continuousWidth\": 300, \"continuousHeight\": 300}}, \"data\": {\"name\": \"data-35a07b333ab42c20ffaa19d64e97f161\"}, \"mark\": {\"type\": \"bar\"}, \"encoding\": {\"x\": {\"axis\": {\"title\": \"Name\", \"labelAngle\": 0, \"grid\": false, \"titleAnchor\": \"start\"}, \"field\": \"name\", \"sort\": \"-y\", \"type\": \"nominal\"}, \"y\": {\"field\": \"age\", \"type\": \"quantitative\"}}, \"height\": 150, \"title\": \"This is a simple bar chart\", \"width\": 300, \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.8.0.json\", \"datasets\": {\"data-35a07b333ab42c20ffaa19d64e97f161\": [{\"name\": \"Zeynep\", \"age\": 33, \"date\": \"1990-06-03T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Anna\", \"age\": 25, \"date\": \"1998-03-12T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Tim\", \"age\": 23, \"date\": \"2000-01-20T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Sara\", \"age\": 21, \"date\": \"2002-02-16T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Elias\", \"age\": 28, \"date\": \"1995-05-02T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Admir\", \"age\": 20, \"date\": \"2003-06-03T00:00:00\", \"city\": \"Munich\"}, {\"name\": \"Lina\", \"age\": 31, \"date\": \"1992-06-03T00:00:00\", \"city\": \"Stuttgart\"}]}}, {\"mode\": \"vega-lite\"});\n</script>\n```\n:::\n:::\n\n\n1. Title of x-axis\n2. Angle of axis text\n3. Hide the lines in the background\n4. Adjustment of the text at the x-axis\n\n\n## Bar chart with custom y-axis\n\n::: {#f98c941b .cell output-location='column-fragment' execution_count=10}\n``` {.python .cell-code}\nalt.Chart(df).mark_bar().encode(\n    x=alt.X('name').sort('-y'),\n    y=alt.Y('age').axis(\n        title=\"Age\",  # <1>\n        grid=False,  # <2>\n        titleAnchor=\"end\"),  # <3>\n).properties(\n    title='This is a simple bar chart',\n    width=300,\n    height=150\n)\n\n```\n\n::: {.cell-output .cell-output-display execution_count=10}\n```{=html}\n\n<style>\n  #altair-viz-66f7465f380545379845d6032d751c98.vega-embed {\n    width: 100%;\n    display: flex;\n  }\n\n  #altair-viz-66f7465f380545379845d6032d751c98.vega-embed details,\n  #altair-viz-66f7465f380545379845d6032d751c98.vega-embed details summary {\n    position: relative;\n  }\n</style>\n<div id=\"altair-viz-66f7465f380545379845d6032d751c98\"></div>\n<script type=\"text/javascript\">\n  var VEGA_DEBUG = (typeof VEGA_DEBUG == \"undefined\") ? {} : VEGA_DEBUG;\n  (function(spec, embedOpt){\n    let outputDiv = document.currentScript.previousElementSibling;\n    if (outputDiv.id !== \"altair-viz-66f7465f380545379845d6032d751c98\") {\n      outputDiv = document.getElementById(\"altair-viz-66f7465f380545379845d6032d751c98\");\n    }\n    const paths = {\n      \"vega\": \"https://cdn.jsdelivr.net/npm/vega@5?noext\",\n      \"vega-lib\": \"https://cdn.jsdelivr.net/npm/vega-lib?noext\",\n      \"vega-lite\": \"https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext\",\n      \"vega-embed\": \"https://cdn.jsdelivr.net/npm/vega-embed@6?noext\",\n    };\n\n    function maybeLoadScript(lib, version) {\n      var key = `${lib.replace(\"-\", \"\")}_version`;\n      return (VEGA_DEBUG[key] == version) ?\n        Promise.resolve(paths[lib]) :\n        new Promise(function(resolve, reject) {\n          var s = document.createElement('script');\n          document.getElementsByTagName(\"head\")[0].appendChild(s);\n          s.async = true;\n          s.onload = () => {\n            VEGA_DEBUG[key] = version;\n            return resolve(paths[lib]);\n          };\n          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);\n          s.src = paths[lib];\n        });\n    }\n\n    function showError(err) {\n      outputDiv.innerHTML = `<div class=\"error\" style=\"color:red;\">${err}</div>`;\n      throw err;\n    }\n\n    function displayChart(vegaEmbed) {\n      vegaEmbed(outputDiv, spec, embedOpt)\n        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));\n    }\n\n    if(typeof define === \"function\" && define.amd) {\n      requirejs.config({paths});\n      require([\"vega-embed\"], displayChart, err => showError(`Error loading script: ${err.message}`));\n    } else {\n      maybeLoadScript(\"vega\", \"5\")\n        .then(() => maybeLoadScript(\"vega-lite\", \"5.8.0\"))\n        .then(() => maybeLoadScript(\"vega-embed\", \"6\"))\n        .catch(showError)\n        .then(() => displayChart(vegaEmbed));\n    }\n  })({\"config\": {\"view\": {\"continuousWidth\": 300, \"continuousHeight\": 300}}, \"data\": {\"name\": \"data-35a07b333ab42c20ffaa19d64e97f161\"}, \"mark\": {\"type\": \"bar\"}, \"encoding\": {\"x\": {\"field\": \"name\", \"sort\": \"-y\", \"type\": \"nominal\"}, \"y\": {\"axis\": {\"title\": \"Age\", \"grid\": false, \"titleAnchor\": \"end\"}, \"field\": \"age\", \"type\": \"quantitative\"}}, \"height\": 150, \"title\": \"This is a simple bar chart\", \"width\": 300, \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.8.0.json\", \"datasets\": {\"data-35a07b333ab42c20ffaa19d64e97f161\": [{\"name\": \"Zeynep\", \"age\": 33, \"date\": \"1990-06-03T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Anna\", \"age\": 25, \"date\": \"1998-03-12T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Tim\", \"age\": 23, \"date\": \"2000-01-20T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Sara\", \"age\": 21, \"date\": \"2002-02-16T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Elias\", \"age\": 28, \"date\": \"1995-05-02T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Admir\", \"age\": 20, \"date\": \"2003-06-03T00:00:00\", \"city\": \"Munich\"}, {\"name\": \"Lina\", \"age\": 31, \"date\": \"1992-06-03T00:00:00\", \"city\": \"Stuttgart\"}]}}, {\"mode\": \"vega-lite\"});\n</script>\n```\n:::\n:::\n\n\n1. Title of y-axis\n2. Hide the grid\n3. Adjustment of the text at the y axis\n\n\n## Bar chart with custom title\n\n::: {#4336a472 .cell output-location='column-fragment' execution_count=11}\n``` {.python .cell-code}\nalt.Chart(df).mark_bar().encode(\n    x=alt.X('name').sort('-y'),\n    y=alt.Y('age')\n).properties(\n    title='This is a simple bar chart',\n    width=300,\n    height=150\n).configure_title(  # <1>\n    fontSize=16,\n    font='Arial',\n    color='black',\n    anchor='start'  # <2>\n)\n\n```\n\n::: {.cell-output .cell-output-display execution_count=11}\n```{=html}\n\n<style>\n  #altair-viz-4917c1793b0b45ddb221e2a67463b197.vega-embed {\n    width: 100%;\n    display: flex;\n  }\n\n  #altair-viz-4917c1793b0b45ddb221e2a67463b197.vega-embed details,\n  #altair-viz-4917c1793b0b45ddb221e2a67463b197.vega-embed details summary {\n    position: relative;\n  }\n</style>\n<div id=\"altair-viz-4917c1793b0b45ddb221e2a67463b197\"></div>\n<script type=\"text/javascript\">\n  var VEGA_DEBUG = (typeof VEGA_DEBUG == \"undefined\") ? {} : VEGA_DEBUG;\n  (function(spec, embedOpt){\n    let outputDiv = document.currentScript.previousElementSibling;\n    if (outputDiv.id !== \"altair-viz-4917c1793b0b45ddb221e2a67463b197\") {\n      outputDiv = document.getElementById(\"altair-viz-4917c1793b0b45ddb221e2a67463b197\");\n    }\n    const paths = {\n      \"vega\": \"https://cdn.jsdelivr.net/npm/vega@5?noext\",\n      \"vega-lib\": \"https://cdn.jsdelivr.net/npm/vega-lib?noext\",\n      \"vega-lite\": \"https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext\",\n      \"vega-embed\": \"https://cdn.jsdelivr.net/npm/vega-embed@6?noext\",\n    };\n\n    function maybeLoadScript(lib, version) {\n      var key = `${lib.replace(\"-\", \"\")}_version`;\n      return (VEGA_DEBUG[key] == version) ?\n        Promise.resolve(paths[lib]) :\n        new Promise(function(resolve, reject) {\n          var s = document.createElement('script');\n          document.getElementsByTagName(\"head\")[0].appendChild(s);\n          s.async = true;\n          s.onload = () => {\n            VEGA_DEBUG[key] = version;\n            return resolve(paths[lib]);\n          };\n          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);\n          s.src = paths[lib];\n        });\n    }\n\n    function showError(err) {\n      outputDiv.innerHTML = `<div class=\"error\" style=\"color:red;\">${err}</div>`;\n      throw err;\n    }\n\n    function displayChart(vegaEmbed) {\n      vegaEmbed(outputDiv, spec, embedOpt)\n        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));\n    }\n\n    if(typeof define === \"function\" && define.amd) {\n      requirejs.config({paths});\n      require([\"vega-embed\"], displayChart, err => showError(`Error loading script: ${err.message}`));\n    } else {\n      maybeLoadScript(\"vega\", \"5\")\n        .then(() => maybeLoadScript(\"vega-lite\", \"5.8.0\"))\n        .then(() => maybeLoadScript(\"vega-embed\", \"6\"))\n        .catch(showError)\n        .then(() => displayChart(vegaEmbed));\n    }\n  })({\"config\": {\"view\": {\"continuousWidth\": 300, \"continuousHeight\": 300}, \"title\": {\"anchor\": \"start\", \"color\": \"black\", \"font\": \"Arial\", \"fontSize\": 16}}, \"data\": {\"name\": \"data-35a07b333ab42c20ffaa19d64e97f161\"}, \"mark\": {\"type\": \"bar\"}, \"encoding\": {\"x\": {\"field\": \"name\", \"sort\": \"-y\", \"type\": \"nominal\"}, \"y\": {\"field\": \"age\", \"type\": \"quantitative\"}}, \"height\": 150, \"title\": \"This is a simple bar chart\", \"width\": 300, \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.8.0.json\", \"datasets\": {\"data-35a07b333ab42c20ffaa19d64e97f161\": [{\"name\": \"Zeynep\", \"age\": 33, \"date\": \"1990-06-03T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Anna\", \"age\": 25, \"date\": \"1998-03-12T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Tim\", \"age\": 23, \"date\": \"2000-01-20T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Sara\", \"age\": 21, \"date\": \"2002-02-16T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Elias\", \"age\": 28, \"date\": \"1995-05-02T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Admir\", \"age\": 20, \"date\": \"2003-06-03T00:00:00\", \"city\": \"Munich\"}, {\"name\": \"Lina\", \"age\": 31, \"date\": \"1992-06-03T00:00:00\", \"city\": \"Stuttgart\"}]}}, {\"mode\": \"vega-lite\"});\n</script>\n```\n:::\n:::\n\n\n1. Custom title options\n2. Where to anchor the title (`start`, `middle` or `end`)\n\n## Final bar plot\n\n::: {#9beb8c9d .cell output-location='slide' execution_count=12}\n``` {.python .cell-code}\nalt.Chart(df).mark_bar().encode(\n    x=alt.X('name').sort('-y').axis(\n        title=\"Name\",\n        labelAngle=0,\n        grid=False,\n        titleAnchor=\"start\"),\n    y=alt.Y('age').axis(\n        title=\"Age\",\n        grid=False,\n        titleAnchor=\"end\"),\n).properties(\n    title='This is a simple bar chart',\n    width=300,\n    height=150\n).configure_title(\n    fontSize=16,\n    font='Arial',\n    color='black',\n    anchor='start'\n).configure_view(  # <1>\n    strokeWidth=0\n)\n\n```\n\n::: {.cell-output .cell-output-display execution_count=12}\n```{=html}\n\n<style>\n  #altair-viz-a05a35a688d7474f820138bb6f6bd662.vega-embed {\n    width: 100%;\n    display: flex;\n  }\n\n  #altair-viz-a05a35a688d7474f820138bb6f6bd662.vega-embed details,\n  #altair-viz-a05a35a688d7474f820138bb6f6bd662.vega-embed details summary {\n    position: relative;\n  }\n</style>\n<div id=\"altair-viz-a05a35a688d7474f820138bb6f6bd662\"></div>\n<script type=\"text/javascript\">\n  var VEGA_DEBUG = (typeof VEGA_DEBUG == \"undefined\") ? {} : VEGA_DEBUG;\n  (function(spec, embedOpt){\n    let outputDiv = document.currentScript.previousElementSibling;\n    if (outputDiv.id !== \"altair-viz-a05a35a688d7474f820138bb6f6bd662\") {\n      outputDiv = document.getElementById(\"altair-viz-a05a35a688d7474f820138bb6f6bd662\");\n    }\n    const paths = {\n      \"vega\": \"https://cdn.jsdelivr.net/npm/vega@5?noext\",\n      \"vega-lib\": \"https://cdn.jsdelivr.net/npm/vega-lib?noext\",\n      \"vega-lite\": \"https://cdn.jsdelivr.net/npm/vega-lite@5.8.0?noext\",\n      \"vega-embed\": \"https://cdn.jsdelivr.net/npm/vega-embed@6?noext\",\n    };\n\n    function maybeLoadScript(lib, version) {\n      var key = `${lib.replace(\"-\", \"\")}_version`;\n      return (VEGA_DEBUG[key] == version) ?\n        Promise.resolve(paths[lib]) :\n        new Promise(function(resolve, reject) {\n          var s = document.createElement('script');\n          document.getElementsByTagName(\"head\")[0].appendChild(s);\n          s.async = true;\n          s.onload = () => {\n            VEGA_DEBUG[key] = version;\n            return resolve(paths[lib]);\n          };\n          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);\n          s.src = paths[lib];\n        });\n    }\n\n    function showError(err) {\n      outputDiv.innerHTML = `<div class=\"error\" style=\"color:red;\">${err}</div>`;\n      throw err;\n    }\n\n    function displayChart(vegaEmbed) {\n      vegaEmbed(outputDiv, spec, embedOpt)\n        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));\n    }\n\n    if(typeof define === \"function\" && define.amd) {\n      requirejs.config({paths});\n      require([\"vega-embed\"], displayChart, err => showError(`Error loading script: ${err.message}`));\n    } else {\n      maybeLoadScript(\"vega\", \"5\")\n        .then(() => maybeLoadScript(\"vega-lite\", \"5.8.0\"))\n        .then(() => maybeLoadScript(\"vega-embed\", \"6\"))\n        .catch(showError)\n        .then(() => displayChart(vegaEmbed));\n    }\n  })({\"config\": {\"view\": {\"continuousWidth\": 300, \"continuousHeight\": 300, \"strokeWidth\": 0}, \"title\": {\"anchor\": \"start\", \"color\": \"black\", \"font\": \"Arial\", \"fontSize\": 16}}, \"data\": {\"name\": \"data-35a07b333ab42c20ffaa19d64e97f161\"}, \"mark\": {\"type\": \"bar\"}, \"encoding\": {\"x\": {\"axis\": {\"title\": \"Name\", \"labelAngle\": 0, \"grid\": false, \"titleAnchor\": \"start\"}, \"field\": \"name\", \"sort\": \"-y\", \"type\": \"nominal\"}, \"y\": {\"axis\": {\"title\": \"Age\", \"grid\": false, \"titleAnchor\": \"end\"}, \"field\": \"age\", \"type\": \"quantitative\"}}, \"height\": 150, \"title\": \"This is a simple bar chart\", \"width\": 300, \"$schema\": \"https://vega.github.io/schema/vega-lite/v5.8.0.json\", \"datasets\": {\"data-35a07b333ab42c20ffaa19d64e97f161\": [{\"name\": \"Zeynep\", \"age\": 33, \"date\": \"1990-06-03T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Anna\", \"age\": 25, \"date\": \"1998-03-12T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Tim\", \"age\": 23, \"date\": \"2000-01-20T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Sara\", \"age\": 21, \"date\": \"2002-02-16T00:00:00\", \"city\": \"Stuttgart\"}, {\"name\": \"Elias\", \"age\": 28, \"date\": \"1995-05-02T00:00:00\", \"city\": \"Berlin\"}, {\"name\": \"Admir\", \"age\": 20, \"date\": \"2003-06-03T00:00:00\", \"city\": \"Munich\"}, {\"name\": \"Lina\", \"age\": 31, \"date\": \"1992-06-03T00:00:00\", \"city\": \"Stuttgart\"}]}}, {\"mode\": \"vega-lite\"});\n</script>\n```\n:::\n:::\n\n\n1. Remove the lines at the top and the right of the plot\n\n\n# Task Overview and Hints\n\n## Task 1: Average Revenue by E-Shop\n\nYou're required to show the average revenue for all shops, using the name `average_revenue`.\n\n**Hint:**\n\n1. Import the Altair library.\n2. Read the CSV data into a Pandas DataFrame.\n3. Use `alt.Chart()` to create a chart.\n4. Use `mark_bar()` to specify that you want a bar chart.\n5. Use `encode()` to specify the X and Y axes. You can compute the average revenue using Altair's built-in `average()` function.\n\n\n## Task 2: Two E-Shops with the Highest Average Rating\n\nThe task is to show the two E-Shops with the highest average rating, using the name \\`average_rating\\`.\n\n**Hint:**\n\n1. Group the data by 'eshop_name' and calculate the mean of 'average_rating' for each group.\n2. Sort the results in descending order and pick the top 2.\n3. Use the same charting methods as in Task 1 to visualize the data.\n\n\n## Task 3: E-Shop Performance Over Time\n\nYou're tasked with showing the annual revenue per E-Shop by year, using the names \\`year\\` and \\`total_revenue\\`.\n\n**Hint:**\n\n1. Make sure the 'date' column is in a date-time format.\n2. Extract the year from the 'date' column using the \\`year()\\` function in Altair.\n3. To get the total revenue, use the \\`sum()\\` function in Altair.\n4. Use \\`mark_bar()\\` for the chart type and encode the axes accordingly.\n\n\n## Task 4: Maximum Social Media Followers\n\nYour task is to show the maximum amount of social media followers for every E-shop in a descending order, using the name \\`max_followers\\`.\n\n**Hint:**\n\n1. Use the \\`max()\\` function in Altair to calculate the maximum number of social media followers for each E-shop.\n2. Sort the E-shops by the 'y' axis in descending order when encoding the 'x' axis.\n\n\n## Task 5: Monthly Time on Site overview\n\nThe final task is to show a monthly overview of the average time on site for every E-shop (ordered by E-shop and month), using the names \\`month\\` and \\`average_time_on_site\\`.\n\n**Hint:**\n\n1. Extract the month from the 'date' column using the \\`month()\\` function in Altair.\n2. To get the average time on site, use the \\`average()\\` function in Altair.\n3. Use \\`mark_line()\\` for the chart type and encode the axes accordingly.\n\n",
    "supporting": [
      "altair_files/figure-revealjs"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}