{
  "hash": "66144816600a9062059dd3567e04b321",
  "result": {
    "markdown": "---\ntitle: Pandas\nlang: en\nsubtitle: Introduction\nauthor: Jan Kirenz\nexecute:\n  eval: true\n  echo: true\nhighlight-style: github\nformat:\n  revealjs:\n    toc: true\n    toc-depth: 1\n    embed-resources: false\n    theme:\n      - dark\n      - ../custom.scss\n    incremental: true\n    transition: slide\n    background-transition: fade\n    transition-speed: slow\n    code-copy: true\n    code-line-numbers: true\n    smaller: false\n    scrollable: true\n    slide-number: c\n    preview-links: auto\n    chalkboard:\n      buttons: false\n    footer: Jan Kirenz\n---\n\n# What is Pandas?\n\n![](https://pandas.pydata.org/docs/_static/pandas.svg)\n\n- Pandas is a powerful and flexible open-source data analysis and manipulation library for Python.\n\n- It provides data structures and functions needed to manipulate structured data.\n\n- It usually uses DataFrame objects for data manipulation.\n\n\n# Understanding DataFrames in Pandas\n\n![](/images/dataframe.png)\n\n- A DataFrame is a two-dimensional labeled data structure with columns of potentially different types. \n\n- You can think of it like a spreadsheet or SQL table, or a dictionary of Series objects. \n\n\n## Example of a DataFrame\n\nHere is an example of a DataFrame:\n\n::: {#249c206a .cell execution_count=1}\n``` {.python .cell-code}\n# Import the module pandas as pd\nimport pandas as pd\n\n# Create some data in this dictionary style\ndata = {'Name': ['John', 'Anna', 'Peter'],\n        'Age': [28, 24, 35],\n        'City': ['New York', 'Paris', 'London']}\n\n# Transform the data into a Pandas Dataframe\ndf = pd.DataFrame(data)\n```\n:::\n\n\n## Example of a DataFrame\n\n- Use the `.head()`to show the top rows of the Dataframe:  \n\n::: {#c2c3abf2 .cell execution_count=2}\n``` {.python .cell-code}\ndf.head()\n```\n\n::: {.cell-output .cell-output-display execution_count=2}\n```{=html}\n<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Name</th>\n      <th>Age</th>\n      <th>City</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>John</td>\n      <td>28</td>\n      <td>New York</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>Anna</td>\n      <td>24</td>\n      <td>Paris</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>Peter</td>\n      <td>35</td>\n      <td>London</td>\n    </tr>\n  </tbody>\n</table>\n</div>\n```\n:::\n:::\n\n\n## Output\n\n```python\n   Name  Age       City\n0  John   28   New York\n1  Anna   24      Paris\n2  Peter  35     London\n```\n\n## Example of a DataFrame\n\n- Use \n\n## Example of a DataFrame\n\nShow the\n\n\ndf.head()\n\n## Creating DataFrame from a CSV file\n\n- We can create a DataFrame by importing a CSV file using the `pd.read_csv()` function.\n\n- Example: `df = pd.read_csv('file.csv')`\n\n--\n\n```python\n# Import a CSV file from GitHub\ndf = pd.read_csv('https://raw.githubusercontent.com/kirenz/lab-competitive/main/code/ecommerce.csv')\n```\n\n## Specify Data Formats\n\n- Categorical data: `df[column_name] = df[column_name].astype('category')`\n\n\n\n- Date column `df['date_column'] = pd.to_datetime(df['date_column'])`\n\n```python\ndf['date'] = pd.to_datetime(df['date'])\n```\n\n# Key Pandas Functions for Data Analysis\n\n## Mean\n\n- The `mean` function returns the mean of the values for the requested axis.\n\n- Example: `df['column_name'].mean()`\n\n## GroupBy\n\n- The `groupby` function is used to split the data into groups based on some criteria.\n\n- Example: `df.groupby('column_name')`\n\n## GroupBy\n\n- The groupby operation makes 'column_name' the index of grouped_df. \n\n- If you want to turn 'column_name' back into a regular column and replace the index with default integers, you would use `reset_index()`.\n\n## Reset Index\n\n- `reset_index` is a method to reset index of a Data Frame.\n\n- Example: `df.reset_index()`\n\n## Rename Columns\n\n- `rename` function is used to change the names of the column labels.\n\n- Example: `df.rename(columns={'old_name1':'new_name1', 'old_name2':'new_name2'})`\n\n## Sort Values\n\n- The `sort_values` function sorts a data frame in ascending or descending order of passed column.\n\n- Example: `df.sort_values('column_name', ascending=False)`\n\n## Head\n\n- The `head` function is used to get the first n rows.\n\n- Example: `df.head(n)`\n\n## Date Manipulation\n\n- Pandas provides a robust tool for working with dates, times, and time-indexed data.\n\n- Example for extracting Year from Date: `df['date_column'].dt.year`\n\n- Example for extracting Month from Date: `df['date_column'].dt.to_period('M')`\n\n# Tasks \n\n## Task 1: Average Revenue by E-Shop\n\n- Hint: Use the `groupby` function to group by 'eshop_name', then use the `mean` function on 'annual_revenue'.\n\n## Task 2: E-Shop with the Highest Average Rating\n\n- Hint: Use the `groupby` function to group by 'eshop_name', calculate the mean of 'average_rating', then sort values and use `head` to get the top one.\n\n## Task 3: E-Shop Performance Over Time\n\n- Hint: Extract the year from 'date', then group by 'eshop_name' and 'year' and calculate the sum of 'annual_revenue'.\n\n## Task 4: E-Shop with the Most Social Media Followers\n\n- Hint: Use the `groupby` function to group by 'eshop_name', get the max 'social_media_followers', then sort values and use `head` to get the top one.\n\n## Task 5: Monthly Active User Base Growth\n\n- Hint: Extract the month from 'date', then group by 'eshop_name' and 'month' and calculate the mean of 'active_user_base'.\n\n",
    "supporting": [
      "pandas_files/figure-revealjs"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}